{"total":13,"pageSize":10,"pageCount":2,"data":[{"title":"Hello Meta Space","slug":"hello-meta-space","date":"2022-01-09T14:16:25.994Z","updated":"2022-01-09T14:16:25.994Z","comments":true,"path":"api/articles/hello-meta-space.json","excerpt":null,"keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmQxQ2jNCjBVebYd94yoxVd9mKd5aUPLd1LGEFn9MgS4kk","content":"<p>Welcome to Meta Space!</p>\n<h2 id=\"Quick-Start\">Quick Start</h2>\n<p>WIP</p>\n<h3 id=\"IPFS-image-sample\">IPFS image sample</h3>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">Preview</span>](<span class=\"link\">ipfs://QmQxQ2jNCjBVebYd94yoxVd9mKd5aUPLd1LGEFn9MgS4kk</span>)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmQxQ2jNCjBVebYd94yoxVd9mKd5aUPLd1LGEFn9MgS4kk\" alt=\"Preview\"></p>\n","raw":null,"categories":[{"name":"Generated","path":"api/categories/Generated.json"}],"tags":[{"name":"Meta Space","path":"api/tags/Meta Space.json"}]},{"title":"刘言：万字长文解析Libra技术（上篇）","slug":"刘言：万字长文解析Libra技术（上篇）","date":"2022-01-09T06:14:40.000Z","updated":"2022-01-09T06:14:40.736Z","comments":true,"path":"api/articles/刘言：万字长文解析Libra技术（上篇）.json","excerpt":"行文主要参考 Libra 官方文档《 The Libra Blockchain 》。目录一、背景介绍二、逻辑数据模型（一）账本状态 Ledger State（二）交易 Transac...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmPjai8ESvo11bB74K9q4EDMaL12PA8nio4hoQ29KE1G5t","content":"<p>行文主要参考 Libra 官方文档《 The Libra Blockchain 》。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmPjai8ESvo11bB74K9q4EDMaL12PA8nio4hoQ29KE1G5t\" alt=\"a68c60c7-3dbd-40eb-9c01-6e83d42fcbeb\"></p>\n<p><strong>目录</strong></p>\n<p><strong>一、背景介绍</strong></p>\n<p><strong>二、逻辑数据模型</strong></p>\n<p>（一）<strong>账本状态 Ledger State</strong></p>\n<p>（二）<strong>交易 Transactions</strong></p>\n<p>（三）<strong>账本历史 Ledger History</strong></p>\n<p><strong>三、执行交易</strong></p>\n<p>（一）<strong>交易执行的前提 Execution Requirements</strong></p>\n<p>（二）<strong>交易的结构 Transaction Structure</strong></p>\n<p>（三）<strong>交易的执行 Executing Transactions</strong></p>\n<p>（四）<strong>Move 语言简介 The Move Programming Language</strong></p>\n<p><strong>一、背景介绍</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"54f3cfb9-105d-4ba4-a864-03c1e060a8a7\"></p>\n<p>互联网及数字化产品和服务的发展助推了效率的提高，降低了准入的门槛，对于绝大多数产业而言，也降低了成本。对于金融行业，这也进一步助推了越来越多的人参与到生态中来。尽管如此，金融服务对于某些人而言，尽管他们极度渴求，但在成本、可靠性、资产流转便利度等方面，仍存在诸多限制。</p>\n<p>Libra 协议是 Libra 生态系统的核心支撑，它为解决当前存在的困难和挑战、拓展资产流转渠道、为革新化金融服务提供平台等方面提供了一揽子解决方案。Libra 生态也提出了一种崭新的全球货币，Libra coin，它的价值锚定一篮子货币，由可靠金融机构的银行存款及有价证券作背书。所有背书的货币均有低通胀率，同时由于这些货币所属国家在地理位置上是多元分散的，这也为 Libra coin 价值的稳定增添了优势（单个或者少数国货币价值的大幅波动对 Libra coin 的币值影响有限）。Libra 生态的目标是为成为全球重要金融基础设施，这需要稳定客观的交易规模、为经济和治理政策提供弹性的实施空间。</p>\n<p>在提供金融服务的过程中，保障健康竞争和快速革新迭代的重要先决条件是有能力依赖普通基础设施进行交易、维护账户和保障跨服务、机构间的交互。为降低准入和切换成本的门槛，Libra 协议将为所有人提供平等的施展平台，同时从新式商业模型和金融应用进行实验。区块链技术是最佳的实现路径，基于其去中心化、可追溯的特点，它能够保证没有任何人可以对 Libra 生态实现完全控制。</p>\n<p>Libra 的区块链是去中心化的，通过验证人（validators）间的共同协作进行开展交易并维护区块链的状态数据，这些验证人同时也是 Libra 现实组织的成员，他们将为 Libra 网络和保证金的治理提供框架。目前，Libra 现实组织的成员都是地理分散和多元化的，他们都为 Libra 生态的形成和发展做出了一定的贡献，随着时间的推移，未来 Libra 现实组织和验证人的门槛将更加开放，并依据其持有 Libra coin 的数量来行权（最终实现形式类似 POS，参照当前 IMF 依据出资份额获取投票权的治理形式），未来 Libra 的愿景是实现无许可（permissonless）的成员准入和治理体系。</p>\n<p>与现存公链一致，Libra 区块链服从 Libra 协议维护了一个加密的认证数据库，这个数据库存储着记录可编程资源（resources,包括 Libra coin）的账本，这些资源（resources）服从特定模型（modules）的规则，这些特定模型（modules）也存储在数据库中。资源是由账户（accounts）拥有的，账户的使用方式仍是参照了非对称加密，公钥代表身份，私钥签名交易，账户（accounts）的持有者可以是个人，也可以是机构。</p>\n<p>下图简要展现了客户端（client）和验证人（validator）通过 Libra 协议进行交互的具体形式：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmNgEn7JAnYkVUEYxC6tcp3ipgmCqUS65rTkASLccTwJKT\" alt=\"02bf2953-d324-471c-b87c-76c7bf89a7d8\"></p>\n<ul>\n<li><strong>验证人：</strong> 维护数据库；</li>\n<li><strong>客户端：</strong> 向数据库发起查询或者提交交易来更新数据库。</li>\n</ul>\n<p>（1）验证人负责维护数据库和处理客户端提交的交易数据，并以此对数据库进行更新。验证人间通过分布式共识协议来进行决策，随着系统的运行，验证人共同接收交易并达成共识，进而更新交易的执行结果，上述分布式共识协议在即使存在少部分作恶节点的情况下依然有效。</p>\n<p>（2）验证者轮流担任领导者，作为领导者，既要提交从客户端接收到的交易，同时也要提交从其他验证人那里接收到的交易。交易信息是在验证者之间进行流转的，验证者获取交易的渠道既包括客户端，也包括其他验证者。</p>\n<p>（3）所有的验证者执行交易并形成一个认证的数据结构（authenticated data structure），这个数据结构包含新的账本历史数据（ledger history）。这一步仅为各验证者内部进行的操作，不同验证者形成的数据结构不是一致的，细节的数据结构内容会在后文中详细阐述。</p>\n<p>（4）所有的验证者通过共识协议投票选出共同认可的数据结构，这个数据结构具备唯一性，这个过程叫做确认（commiting），对于确认交易后的数据库状态，共识协议会对其进行签名。</p>\n<p>（5）最终由验证者将依照上述处理结果对客户端进行答复，提供认证的数据库状态信息。</p>\n<p><strong>二、逻辑数据模型</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"2ea7f457-1de6-4b33-b37e-22b20030fe44\"></p>\n<p>Libra 区块链上的所有数据都储存在有单一版本号的数据库中，一旦数据库发生任何更新，版本号立即改变。版本号是 64 位无签名的整数，与系统已经执行过的交易数量有关。</p>\n<p>Libra 区块链上状态更新逻辑为：</p>\n<p><strong>Apply</strong> （<strong>S</strong> <strong>~i~</strong>  <strong>~-1 ~</strong> , <strong>T</strong>**~i~** ~ ~）→~  ~&lt;<strong>O</strong>**~ i~**~  ~,<strong>S</strong> <strong>~ i~</strong> &gt;</p>\n<p>其中：数据库版本号为 <strong>i</strong></p>\n<p>已提交的交易为 <strong>T</strong>**~i~**</p>\n<p>交易 T~i~ 的执行输出结果为 <strong>O</strong>**~i~**</p>\n<p>账本状态为  <strong>S</strong>**~i~** ~  ~，上一账本状态为 <strong>S</strong> <strong>~ i ~</strong> <strong>~ -1~</strong></p>\n<p>确定性（deterministic）的执行函数为 <strong>Apply</strong> （所谓确定性是指，开始于相同状态的状态机状态，以相同的顺序接收到相同的输入，将会达到相同状态和产生相同的输出。也就是说，对于相同的账本初始状态，在按相同顺序接受到相同的交易并进行处理后，最终账本的当前状态应该是一致的）。</p>\n<p>本部分内容首先介绍在单个版本号下的账本状态（Ledger State）的结构，之后介绍关于账本历史（Ledger history）的内容。</p>\n<p><strong>（一）账本状态 Ledger State</strong></p>\n<p>账本状态代表着 Libra 生态系统最核心的内容，包括每个账户所包含的 Libra coin 的数量，每个验证人必须知晓最新的账本状态才能够执行新的交易。</p>\n<p>类似于以太坊，Libra 协议使用了基于账户的数据模型来编码账本状态。账本状态被设计为关键值存储的结构，将账户地址与账户值进行映射关联。在账本状态中，一个账户的值就是资源（resouces，简单可以理解为代币 token）和模型（modules,简单可以理解为代币模板）的集合，创世账本状态中记录着最初的账户设定和账户状态。</p>\n<p>一个账户状态的例子如下图，明确展示了账户状态主要包含的细节：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmeGAYRTouiySAmjpVerbNGPKdLp8vL2KFu8zcNYgTtJuL\" alt=\"05ea7f9b-e96f-4c7c-af47-8b5f0994e9e8\"></p>\n<p>上图中，椭圆形框起来的代表资源（resources），长方形框起来的代表模型（Modules），箭头代表资源和模型的隶属和服从关系。</p>\n<p><strong>账户地址（Account addresses）</strong></p>\n<p>一个账户地址 256 位，想要创建一个新账户，用户必须先生成密钥对，并对公钥进行哈希运算后获得账户地址。新的账户必须通过现存账户发起交易进行开立，这常常发生在一个交易想要把 Libra coin 发送到一个还未创建的账户地址时。</p>\n<p>一旦新的账户创立了，用户可以用私钥对该账户发起的交易进行签名，用户还可以在不变更账户地址的前提下，更换签名的私钥来增强账户安全性。</p>\n<p>与其他公链一样，Libra 的账户具有匿名性的特点，任何用户都可以随意创建账户并签名交易，除非通过社会工程学的方式对账户交易明细进行分析，单从账户本身无法将账户与现实个人建立关联。</p>\n<p><strong>资源（Resouces）</strong></p>\n<p>资源，是特定字段与数据值关联关系的记录，数据值可以是简单的整数，也可以是复杂的值，比如当其他的资源被内嵌在当前资源中时，此时该资源的数据值将复杂。</p>\n<p>每一种资源都有自己的类型，而这个类型由自己服从的模型进行声明。参考本部分开始时的账本状态图，资源类型可以举例为：资源 Currency.T 的类型为 <strong>0x56.Currency.T</strong> ，其中：0x56 为 Currency 模型储存的地址，Currency 是模型的名称，Currency.T 是资源的名称。这种设计的初衷是让所有的账户在储存自己的类型为 0x56.Currency.T 的资源时使用相同的路径 /resources/0x56.Currency.T，这样，每个账户只能最多储存一种给定类型的资源。当然，这种限制并非绝对的，用户可以可以定义一种包含两个资源的资源，类似 resource TwoCoin {c1:0x56.Currency.T, c2:0x56.Currency.T}。</p>\n<p>改变、删除和发布资源的方式全部编码在对应的模型之中，Move 语言的安全和验证规则禁止了通过其他方式来改变资源。</p>\n<p><strong>模型（Modules）</strong></p>\n<p>模型声明了资源的类型和细节，类似于资源的类型，模型本身也识别标志，模型的识别标志为类似 0x56.Currency，是模型所在地址与模型名称的组合。</p>\n<p>在单个账户内，模型的名称必须是唯一的，参考之前的图，0x56 地址内不可以再命名一个模型叫 Currency，但 0x34 内可以再命名一个模型叫 Currency，此时改模型的标志为 0x34.Currency，与 0x56.Currency 是两个不同的模型，不可混用。</p>\n<p>在当前的 Libra 协议中，模型是不可更改的，一旦生成，不可以被调整和删除，除非通过硬分叉的方式。未来 Libra 基金会将寻求安全实现模型升级的细节方式，并在未来版本中发布。</p>\n<p>（二）<strong>交易</strong> <strong>Transactions</strong></p>\n<p>Libra 区块链的账本状态（Ledger State）通过客户端提交交易的方式进行更新，从浅层面上来说，一笔交易包含交易脚本（transaction script）和交易参数（arguments，比如收款账户地址）。验证人执行交易的方式是参照前文提到的状态转换逻辑 <strong>Apply</strong> （<strong>S</strong> <strong>~i-1 ~</strong> ,<strong>T</strong> <strong>~i ~</strong> ）→~  ~&lt;<strong>O</strong> <strong>~ i  ~</strong> ,<strong>S</strong> <strong>~ i~</strong> &gt;，将交易脚本和交易参数作为输入，通过执行确定性的函数来获取交易输出，但是要注意，只有该笔交易产生的输出被共识机制确认以后，账本状态才会发生变化。本文将在第三部分讨论交易执行的具体细节。</p>\n<p><strong>交易输出（Transaction output）</strong></p>\n<p>通过执行一笔交易 <strong>T</strong>**~i~**我们可以得到新的账本状态 <strong>S</strong> <strong>~i~</strong> ，以及交易执行状态代码（execution status code）、油费使用量（gas usage）和事件列表（event list），上述信息都囊括在交易输出（Transaction output）中。交易执行状态代码记录了交易的执行结果（成功、错误或者油费不足等），油费使用量记录了交易执行过程中的油费。</p>\n<p><strong>事件（Events）</strong></p>\n<p>事件（events）是执行交易后产生的“附带效果”，move 语言通过事件结构（event structure）来触发事件。每个事件都与单独的密钥关联，密钥代表着事件结构和负载（payload），负载涵盖了要触发事件的细节信息。一旦一笔交易被共识确定，那么该笔交易所产生的事件将被添加到账本历史中（ledger histoy，下一小节介绍），并反馈出交易事件成功执行，即某个特殊效果（例如一笔付款交易触发了一个允许收款方确认付款被收到且付款金额是否正确的事件）成功实现的证据。</p>\n<p>事件（event）的引入乍一看似乎很多余，没什么意义，因为可以通过向系统确认该笔交易是否被共识确认来替代想系统确认事件发生的具体信息。但是要注意，交易被共识确认并不意味着交易成功被执行，在一个交易可以执行失败（运行时错误或者油费不足）的系统里，引入事件（event），不仅可以确认交易被成功执行，还可以确认其想实现的“附带效果”是否也实现了。</p>\n<p>（三）<strong>账本历史</strong> <strong>Ledger History</strong></p>\n<p>账本历史（Ledger History）按顺序储存着已经被确认和执行的交易以及这些交易所触发的事件。账本历史的作用是记录最新的账本状态（Ledger state）是如何产生的（交易的确认和执行意味着账本状态的改变，因为账本状态记录着各个账户地址的细节信息，而交易的执行意味着部分账户的细节信息发生变化。账本历史记录了历次被纳入区块链的交易，也就记录着账本状态是如何被改变和更新的）。在账本历史中，没有区块（block）的概念，区块概念的存在目的是能够形成共识机制不断将交易确认和执行，但是，在第二部分逻辑数据模型中，只考虑交易依照顺序被记录下来，而不考虑哪些交易被囊括在哪个区块中。</p>\n<p>尽快验证人在执行新的交易时并不需要事先知道账本历史（即历史交易明细），但客户端可以向账本历史发起查询请求，以及使用账本历史审计交易的执行情况。</p>\n<p><strong>查询请求的回复（Responding to client queries）</strong></p>\n<p>验证人可以使用账本历史来回复客户端关于查询历史账本状态、交易和交易输出信息的请求（从第四部分我们会讲到，交易、交易输出、事件、账本状态都储存在账本历史的叶节点中）。</p>\n<p>例如：历史客户端可以会询问特定版本号的账本状态信息——在账本状态（版本号 30）中地址为 X 的账户有多少 Libra？或者询问特定类型事件的历史记录——地址为 Y 的账户在过去 20 分钟里都收到了哪些货币支付？</p>\n<p><strong>审计交易的执行（Auditing transaction execution）</strong></p>\n<p>客户端可以通过重新执行历史交易 <strong>T</strong> <strong>~i~</strong> ，通过对比自己的计算结果和系统中的账本状态 <strong>S</strong>**~i~<strong>以及交易输出 <strong>O</strong> <strong>~i ~</strong> （核心状态逻辑仍是 <strong>Apply</strong> （<strong>S</strong> <strong>~i-1 ~</strong> ,<strong>T</strong> <strong>~i ~</strong> ）→~  ~&lt;<strong>O</strong> <strong>~ i  ~</strong> ,<strong>S</strong> <strong>~ i ~</strong> &gt;）来验证当前的账本状态 <strong>S</strong></strong>~ i~**是否正确。这种机制允许客户端对验证人开展审计，以确保交易被正确无误的执行了。</p>\n<p><strong>三、执行交易</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"506ba4dd-2dc3-44c4-99e7-efa00977fc56\"></p>\n<p>在 Libra 协议中，改变区块链状态的唯一办法就行执行交易。本部分简要介绍了交易执行的前置条件，定义了交易的结构并解释了 Move 语言虚拟机如何执行执行一笔交易，最后阐述了 Move 语言的核心概念。</p>\n<p>在最初版本的 Libra 协议中，仅有一部分 Move 语言的功能可用，玩家无法发布自定义的模型（modules）并声明自己的资源（resources）类型。Move 语言在实现全功能可用前，仍有很长的路要走，这在一定程度上限制了实现智能合约中交易的执行及数据的存储。</p>\n<p><strong>（一）交易执行的前提 Execution Requirements</strong></p>\n<p><strong>了解初始/创世状态（Known initial state）</strong></p>\n<p>所有验证人必须首先就最初的，或者说创世的账本状态达成一致。由于 Libra 区块链的核心组成部件，例如账户逻辑，交易验证，验证人选举和 Libra coin 都是定义好的 Move 模型，因此在创世账本状态中，这些都要被声明和创建。在创世账本状态中还必须要有足够的核心组件实例以保障交易可以被顺利执行（例如，至少要有一个账户且拥有足够的资产来支付第一笔交易的油费，要有一组验证人来保证第一笔交易可以被共识机制确认）。</p>\n<p>为了简化系统的设计，系统的状态一开始为空，而后通过执行特殊的交易 <strong>T</strong> <strong>~0~</strong> （该交易定义了创世状态所需的模型和资源）来创建创世状态，值得注意的是，交易 <strong>T</strong>**~0~<strong>的执行不通过正常的流程进行，因为缺乏正常执行交易的条件。客户端和验证人被设置为只接受从特殊交易 <strong>T</strong></strong>~0~**开始的账本历史，这通过其哈希值来保证。</p>\n<p><strong>确定性（Deterministic）</strong></p>\n<p>交易的执行过程必须具有确定性（前文介绍过确定性的定义）和密封性的特点，这就意味着交易执行的输出结果是完全可预测的，并且只与执行前的账本状态及交易自身相关。交易的执行本身是没有外部效应的（比如在控制台中显示或者进行网络交互），确定性和密封性保证了只要最终的系统状态是由相同交易按相同顺序执行而产生的，即使这些交易是被不同的验证人独立执行的，多个验证人依然能够就最终系统状态达成一致。这也就意味着，如果从创世区块开始，如果按照区块链的历史交易列表同顺序的执行交易，仍然能够得到当前的账本状态。</p>\n<p><strong>计算和测量（Metered）</strong></p>\n<p>为了有效管理对计算资源的需求，Libra 协议收取用 Libra coin 计量的交易费，这种收费模型与以太坊一致。Libra 生态选择有充足计算能力的验证人来满足 Libra 生态系统对计算资源的需求。收取交易费的唯一目的在系统超过其预定负载的时候适当减少需求（例如遭受了 DDOS 攻击），在正常状态下，系统收取的交易费是非常低的。Libra 的交易费收取模式与现有的很多公链是不同的，现存的很多公链其验证人的计算能力是不足的，因此使用者对计算资源的需求经常超过其正常吞吐能力，在需求过盛的情况下，交易费用会陡升，这对于验证人来说是一项收入，对使用者来说，大大增加了成本。</p>\n<p>交易费的大小由两个因素来决定，油费单价（gas price）及油耗（gas cost）。每笔交易都标明了交易发起人愿意付出的油费单价，油耗依据该笔交易所耗费的计算资源自动累计计算。对于验证人而言，他们总是优先选取高油费单价的交易，将低单价的交易排后或者放弃，这种机制在系统高负载的情况下降低了对计算资源的需求。</p>\n<p>同时，交易中还包括最大油费数量（maximum gas amount），它定义了交易发起者最大可以承受的费用，在执行过程中，虚拟机会不断跟踪油费的使用量，如果在交易执行成功前，油费使用量已经超过了最大油费数量，虚拟机就会终止交易，因而该笔交易的执行结果以及事件触发都不会被系统确认。值得注意的是，即使交易被终止，该笔交易仍然会出现在历史交易列表中，而且发送者依然会因已经使用了计算资源而被收取交易费用。</p>\n<p>Libra 区块链的很多核心逻辑都说是通过 Move 语言实现的，包括交易费的计算。为避免死循环的出现，虚拟机在执行交易的核心环节会停止油费的计算（后面会详细讲到），这些核心环节在创世状态中已经被确定并且使用了保守的代码来防止作恶者发送恶意交易来触发消耗大量计算资源的计算环节，执行这种逻辑所消耗的油费成本已经囊括在了交易费的基本费用中（基本费用类似于出租车的起步价，交易执行的部分环节不收取油费，因为这些费用已被囊括在起步价中）。</p>\n<p><strong>资产（Asset semantics）</strong></p>\n<p>在账本状态中直接将数字资产（即账户中的资源）与现实世界中的价值进行了关联，正是由于涉及用户的利益，因此交易的执行必须保证资产不存在复制、丢失或者未经同意被转移的可能。Libra 协议利用 Move 虚拟机来安全的执行交易和处置资产。</p>\n<p>（二）<strong>交易的结构 Transaction Structure</strong></p>\n<p>一笔交易就是一笔被签名过的信息，它涵盖了以下信息：</p>\n<p>**发送人账户地址（Sender address）:**交易发送者的账户地址。虚拟机从该地址的 LibraAccount.T 资源中读取顺序号、验证密钥和资源数量信息。</p>\n<p>**发送人的公钥（Sender public key）:**公钥与私钥是一对，私钥用来签名交易。公钥的哈希值必须与发送人账户 LibraAccount.T 资源中的验证密钥相匹配。</p>\n<p>**程序（Program）:**即将被执行的交易脚本，用 Move 语言字节码的方式表示，有一系列脚本输入项和模型可供选择。</p>\n<p>**油费单价（Gas price）:**参考了以太坊的交易费用计算模型，油费单价是指交易发送人愿意承受的油费单价，油费单价乘以油（gas）的使用数量即为发送者为该笔交易付出的交易费。</p>\n<p>**最大油费（Maximum gas amount）:**该笔交易允许花费的交易费用最大值，超过该最大油费数量，交易即停止。</p>\n<p>**顺序号（Sequence number）:**未签名的整数，与账户地址相关，这个整数应当与发送人账户 LibraAccount.T 资源中的顺序号一致。每当交易执行一笔，该顺序号 +1。对于单个顺序号而言，只有一笔交易可以被系统确认并执行，交易是无法被重复确认和执行的。</p>\n<p>（三）<strong>交易的执行 Executing Transactions</strong></p>\n<p>执行一笔交易需要在 Move 虚拟机中运行六个步骤，交易的执行是独立于账本状态的更新的。首先，一笔交易被共识确认并依照顺序被执行，由于交易执行的过程是封闭的，因此交易的执行并不会引起任何的外部效果。其次，如果交易被确认，该笔交易执行的结果将被写入账本历史。具体的六个步骤具体如下：</p>\n<p>**1、核验签名（Check signature）：**交易上的签名必须与交易发送者的公钥和交易数据相匹配。这一步仅围绕交易本身，从交易结构（参考上一小节）即可获得，它不需要从发送者的账户中读取任何信息。</p>\n<p>**2、运行“前言”程序（Run prologue）：**LibraAccount 模型中的“前言”（prologue）程序对交易发送者进行验证，保证交易发送者有足够的 Libra coin 来支付最大油费（Maximum gas amount，由交易发送者在构造交易时设定，是交易发送者愿意为本笔交易承受的最大费用支出），同时检查该笔交易是否之前已经被执行过。在执行“前言”程序的过程中，不计算 gas 的花费（如之前部分介绍的，该费用打包在起步费用中），具体而言，“前言”程序的执行内容如下：</p>\n<p>验证交易发送者公钥（在交易结构中）的哈希计算结果与发送者账户中储存的验证密钥是否一致。如果没有这步检查，虚拟机将会错误的接受具备有效数字签名的交易，即使该笔交易与事先约定的交易发送者账户无关。（第一步核验签名仅就交易本身进行自洽性验证，即交易结构中的签名与公钥要匹配，但未验证该笔交易是不是某个既定的账户发送出来的，实际上本环节是在核实交易发起人的身份）。</p>\n<p>验证油费单价*最大油耗是否小于等于发送者账户的 libra coin 余额。如果没有这步验证，虚拟机将会执行那些无法进行到最后的交易，因为他们的 libra coin 余额不足以支付本笔交易的油费。</p>\n<p>确保交易结构中的顺序号（Sequence number）与发送者账户中存储的顺序号一致。如果没有本步验证，作恶者可能会反复执行旧交易来获利（比如反复执行别人给自己付款的交易）。</p>\n<p>**3、验证交易脚本和模型（Verify transaction script and modules）：**一旦“前言”程序执行完毕，虚拟机会对交易脚本和模型进行完整性验证（使用 Move bytecode verifier，在执行或者发布 Move 代码前，Move bytecode verifier 会验证代码在数据类型、参考实现、资源设计等方面的安全性）。</p>\n<p>**4、发布模型（Publish modules）：**通过发送交易发布模型时，每个模型都是发布在交易发送者账户下的。同一账户下，发布同名模型是不可能的。</p>\n<p>**5、执行交易脚本（Run transaction script）:**虚拟机将交易中携带的数据与交易脚本中的参数进行匹配并执行交易脚本。如果交易脚本执行成功，脚本的执行结果包括脚本触发的事件都会被全局状态所确认，如果交易脚本执行失败（由于油费不足或运行时错误），关于运行脚本的任何结果都不会被系统确认。</p>\n<p>**6、运行“结尾”程序（Run epilogue）：**最后一步，虚拟机会运行“结尾”程序向用户收取所需的油费并增加交易发送者的顺序号（sequence number）。像“前言”（prologue）程序一样，“结尾”程序也是 LibraAccount 模型的一部分，并且计算过程不收取油费。只要一笔交易的执行过程成功完成第二步（“前沿”程序），即使第三、四、五步都运行失败，本步骤总会执行。“前沿”程序只要成功运行，就确认了交易发送者账户中有足够的 libra coin 来支付其设定的最大油费，即使因为最大油费不足而导致交易失败，“结尾”程序仍会按最大油费收取本笔交易的交易费。“前沿”程序和“结尾”程序总是成对出现的，他们的存在共同保证了所有交易都会被记录在账本历史中，并且会被收取油费，对于那些并没有成功运行通过“前沿”程序的交易，不会被记录在账本历史中。</p>\n<p>（四）<strong>Move 语言简介 The Move Programming Language</strong></p>\n<p>如先前介绍的，交易就是 Move 语言字节码程序的打包，Move 是一种在设计 Libra 协议过程中创造的新编程语言，其在系统中承担三种重要的角色：</p>\n<p><strong>一是</strong>通过编写交易脚本来实现各类交易；</p>\n<p><strong>二是</strong>允许用户自定义代码和数据类型，包括通过模型（modules）实现“智能合约”；</p>\n<p><strong>三是</strong>支持 Libra 协议的设置和延展。</p>\n<p>Move 语言的核心特点是能够自定义资源（resources），资源用来实现可编程资产，它能够被保存在数据结构中或者作为参数被发送到程序中。同时，Move 语言还保证了资源的安全性，资源不能够被复制，仅能够被移动。资源由模型（modules）来声明，并且仅能够由该模型来创造和消除。上述这些特性都由 Move 虚拟机来静态的实现，这也就允许我们将 Libra coin 作为一种资源来推出。在本节中，仅仅就 Move 语言在交易执行过程中涉及的核心概念进行介绍。</p>\n<p><strong>编写 Move 程序（Writing Move programs）</strong></p>\n<p>一个 Move 程序可以有三种表达方式，即源码语言（source code/source language）、中间代码 IR（intermediate representation）和字节码（bytecode）。目前源代码形式正在开发当中，目标是形成一种易于编写和验证安全代码的人机工程语言。同时，用户可以使用中间代码 IR 的形式开发模型和交易脚本，IR 是一种语义明显、易于阅读的方式，同时也很容易被转化为字节码形式。源代码和 IR 的方式最终都将被编译成字节码的形式通过 Libra 协议进行传输。</p>\n<p>Libra 使用认证的字节码方式作为 Move 语言的传输和执行形式，主要出于以下两方面的考量：</p>\n<p><strong>一是</strong>前文提到的 Move 语言的安全特性是适用于所有 Move 程序的，这样仅在编译器中确保这些安全特性是不够的，攻击者可以通过恶意代码绕过编译器直接使用字节码（Move 语言代码都将通过编译器转化为字节码，如果仅在编译器中保障代码的安全性，则作恶者直接将恶意代码以字节码形式输入，就可以绕过编译器的编译环节，安全特性就形同虚设了）。同时，在交易执行环节运行编译器是非常耗时和复杂的，而且需要验证人完全信任编译器的正确定，因此 Libra 协议直接对编译器转码后的字节码进行安全性验证（bytecode verification），来保证 Move 语言的安全特性。</p>\n<p><strong>二是</strong> Move 基于堆栈的字节码相对源码语言（source code/source language）形式而言，指令更少，这些指令的语义更为简单，仅需要简单微小的步骤即可实现。</p>\n<p><strong>交易脚本（Transaction scripts）</strong></p>\n<p>交易脚本是 Libra 协议的核心，交易脚本能够实现交易指令因为一个交易脚本其本质就是一个 Move 字节码程序。一个交易脚本能够通过自定义的逻辑，利用本地计算资源实现多个模型（modules）的发布并在账本状态中确认，例如向特定的收款人进行一次性付款。</p>\n<p>Libra 希望绝大多数的交易脚本都能够通过执行一次程序调用来实现常用功能。例如对于实现 P2P 付款的程序 LibraAccount.pay_from_sender(recipient_address,amount)，一笔涵盖 recipient_address 和 amount 参数的交易脚本就会触发上述 P2P 付款程序来实现类似以太坊上的代币转移。</p>\n<p><strong>模型（Modules）</strong></p>\n<p>模型是一组发布并记录在账本状态中的代码，模型在声明自身结构类型的同时也声明了程序，模型的结构包含有初始值的数值域，初始值可能是整数或者其他的数据结构值。</p>\n<p>每个模型结构要么是资源型（resource），要么是非限制型（unrestricted）。非限制型结构并没有在复制（copy）和毁灭（destruction）方面的限制，但是，非限制型结构不能够包含资源型结构（直接或者间接），并且不能够在某个账户下被声明。</p>\n<p>在面向对象的编程中，module/struct/procedure 的关系就类似 class/object/method（由左至右的包含关系）。但也是有区别的。一个模型可以声明多种结构类型，但在模型外是无法调用模型内数据的（没有声明 public 的字段）。模型的程序（procedure）是静态方法而非实例方法，在程序中没有 self 和 this 的概念。</p>\n<p>Move 模型与以太坊的智能合约概念相关，但又不同。以太坊上的智能合约既包括代码也包括数据，在 Libra 中，模型包含代码，资源包含数据。从面向对象的角度，以太坊的智能合约就类似在单个账户下发布一个 singleton 对象，而模型是创建资源的“菜谱”，它可以创建任意多个资源，并发布在不同的账户地址下。</p>\n<p><strong>Move 虚拟机（The Move virtual machine）</strong></p>\n<p>Move 虚拟机内嵌了一个 Move 字节码的验证器和解释器。开发者通过使用 MoveIR 编写交易脚本和模型，之后编译为字节码，编译器将结构化的控制流结构转化为无结构的控制流，将复杂的表述转化为简单的字节码数据。Move 虚拟机是通过验证和运行字节码来执行一笔交易的。</p>\n<p>**    上篇后记：**与其说创新，Libra 区块链技术更多的是一种选择、组合与优化。在 Libra 技术的下篇中，笔者将就认证的数据结构和存储方式、LibraBFT 共识机制、Libra 生态的发展愿景方面进行阐述，敬请期待！</p>\n","raw":null,"categories":[],"tags":[]},{"title":"央行数字货币DC/EP之我见","slug":"央行数字货币DC-EP之我见","date":"2022-01-09T06:13:52.000Z","updated":"2022-01-09T06:13:52.231Z","comments":true,"path":"api/articles/央行数字货币DC-EP之我见.json","excerpt":"行文不易，转载请注明出处。金融科技浪潮的到来改变了传统金融业坐吃山空的态势，渐渐的扭转了顽固派思想腐朽的螺丝，倒逼了现有框架体系内的创新性改革。近期，关于我国央行 DC/EP 的相关消息甚嚣...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmR6LvoqDh9znt6Y5iVW8QdDzcMWZda2ooVDL2rom2Gaay","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmR6LvoqDh9znt6Y5iVW8QdDzcMWZda2ooVDL2rom2Gaay\" alt=\"1a65ac50-5681-4011-aab0-45af7cb947eb\"></p>\n<p>金融科技浪潮的到来改变了传统金融业坐吃山空的态势，渐渐的扭转了顽固派思想腐朽的螺丝，倒逼了现有框架体系内的创新性改革。近期，关于我国央行 DC/EP 的相关消息甚嚣尘上，如何理性面对数字货币逐渐“上得台面”的发展趋势，无论从监管者还是从使用者的角度，似乎都变得微妙，“让子弹飞一会”，这颗子弹，还能飞多久。</p>\n<p><strong>关于 Fintech</strong></p>\n<p>在讨论 DC/EP 之前，笔者想谈一谈金融科技。金融业的核心就是资金融通，无论是直接金融和间接金融，无论是商业银行、证券公司、对冲基金还是影子银行，其运作体系和盈利方式，都是围绕资金供给与需求的耦合而开展的。在互联网兴盛之前，传统金融更多依靠的是渠道推广和产品设计，随着 IT 技术的发展，互联网将信息不对称的幕布撕碎，金融业传统盈利方式效用骤减，Fintech，将 IT 技术与金融模式相结合的方式，显著提升了效率，降低了摩擦成本。然而，虽然近年来各金融机构都打着求新、求变的称号，以革新者自居，但多数仍是亦步亦趋，用“倒逼着前进”来形容，是再合适不过了。随着科技对金融行业的影响越来越深，传统金融业受到互联网公司的冲击也越来越大，Libra 的提出象征着新势力对传统世界货币体系的冲击。在不断提升人民币国际地位的当下，再等，再观望，不合适。我想，这也许是 DC/EP 起步的前提。</p>\n<p><strong><strong>关于 DC/EP</strong></strong></p>\n<p>DC/EP，全称 Digital Currency/Electronic Payment,是中央银行近期宣布要发行的法定数字货币，其发行的目的是进一步提升零售支付体系的方便性和快捷性。DC/EP 采用双层设计，所谓的双层，即中央银行第一层，商业银行第二层，商业银行通过 100% 向中央银行缴纳保证金来获取等值的 DC/EP 并流通至市场，主要目的是用来取代 M0，即市场上流通的现金。</p>\n<p><strong><strong><strong>从虚拟货币、电子货币到数字货币</strong></strong></strong></p>\n<p><strong>虚拟货币</strong>是我们接触最早的货币，从最早的 Q 币，到网游的游戏币，这些虚拟货币在单个产品体系内具有交易和兑换价值，但一旦脱离该产品体系，将只是一堆数据，这也就是其虚拟的意义。虚拟货币与现实中的经济体系和货币体系无关，其价值由对应互联网厂商背书。</p>\n<p><strong>电子货币</strong>是国家信用货币在电子形式上的延伸，其基于电子账户技术，是一种电子记账方式。无论是传统金融机构还是微信、支付宝等互联网金融机构账户上的资金，都是电子货币，其出现就是为了提升货币使用效率，加快小额资金流动速度，便捷生活需求。电子货币是中心化的，由人民银行严格管控，具备现实价值，属于金融体系的一部分。</p>\n<p><strong>数字货币</strong>是基于密码学技术的国家信用货币，其与传统的国家信用货币不同，是国家单独发行的法定信用货币，与电子货币有着本质的不同。数字货币以 BTC 为代表，至今已发展了 10 年，并有着自己的用户群和需求场景，由于其弱监管性，一直游走在灰色地带。DC/EP 却不同，其设计之初就实现了国家的严格监管，是国家法定的数字货币，可以在市场中自由流通。当前的数字货币都是基于区块链技术开发的，因此 DC/EP 也必然不能免俗，基于三元悖论，DC/EP 必然将采用联盟链，通过提升中心化的形式来保障高 TPS。</p>\n<p><strong><strong><strong><strong>DC/EP 在货币体系中的角色思考</strong></strong></strong></strong></p>\n<p><strong>应用场景：</strong> 即使 DC/EP 推出，它的初始定位仍是试验品，鉴于货币在金融体系运行中的重要性，注定数字货币的试验是逐步推进的。DC/EP 初始的应用场景是小额高频交易，特别是日常生活中的零售支付环节，这就意味着 DC/EP 的交易体量将严格控制在相对小的范围。</p>\n<p><strong>货币供给：</strong> 中央银行通过发行基础货币，基于商业银行的部分准备金制度进行存款派生，最终形成投放到市场的货币供给量 M2，当市场货币供需失衡或央行准备采取某种政策时，央行通过货币政策工具进行传导，对市场流动性进行引导和限制。货币的派生主要通过商业银行进行，而派生的前提就是部分存款准备金制度，然而，DC/EP 的发行要求商业银行向中央银行缴纳 100% 的保证金，也就是说，央行发行多少 DC/EP 就意味着向社会增加投放了多少流动性，不存在派生存款的问题，也即 DC/EP 的发行对 M2 的影响不大。</p>\n<p><strong>维护节点：</strong> DC/EP 的应用中，最核心的要求是高 TPS，其对交易确认的速度要求是当前现行公链都无法满足的，因此即使 DC/EP 采用区块链技术实现，其在共识节点上的设置也是高度中心化的，笔者理解，从技术实力和稳定性考虑，节点的设置会在大型国有商业银行之间进行选择，同时引入支付宝和微信等互联网技术巨头参与。</p>\n<p><strong>寻求平权：</strong> 在当前的零售支付场景中，支付宝和微信已经实现了渠道垄断并实现了客户的高粘性，纵使各银行及银联纷纷推出互联网支付 APP，但对于市场的占有量依然微乎其微。此次数字货币 DC/EP 的推出，在一定程度上为传统金融机构提供了竞争机遇，如果能够及时总结经验利用占据优势的物理渠道进行推广，将在一定程度上改变当前的零售支付入口竞争态势。也就是说，央行在寻求平权。</p>\n<p><strong><strong><strong><strong><strong>关于 DC/EP 的前景思考</strong></strong></strong></strong></strong></p>\n<p><strong>与电子货币的比较优势问题：</strong> 基于当前市场状况来看，国内电子货币体系的发展已经相当成熟，对于 DC/EP 的研究和推出更多程度上是国际环境倒逼的结果，并没有较强的主观动机和需求背景。DC/EP 推出后，在相当长的时间内都将成为电子支付的补充，很难形成自己的市场，更难以避免的是，数字货币和电子货币的零售支付场景基本重合，在效率和安全性方面数字货币并不占据优势。</p>\n<p><strong>存储场景推广：</strong> 不管数字货币采取类 BTC 的 UTXO 模型还是类以太坊的账户模型，亦或其他。DC/EP 总是通过钱包的方式进行持有，不只金融机构，如果能够放开，几乎所有具备钱包开发能力的团队都能够在自身 APP 上内嵌支持 DC/EP 的钱包，因此 DC/EP 的存储方面的竞争会相当剧烈。</p>\n<p><strong>现有金融机构接受程度：</strong> 开发支持 DC/EP 的交易系统将是一笔巨大的成本支出，因此，金融机构是否对这项小体量的创新感兴趣，很大程度上取决于央行的推广力度和政策要求。同时，前文也提过，DC/EP 的推广商业银行肯定比互联网机构要积极，一旦数字货币支付场景普及，入口的争夺将相当激烈。</p>\n<p><strong>监管问题：</strong> 传统电子货币体系下，各机构对资金的跨机构转移的追溯能力是有限的，由于金融机构前存在屏障，这对资金监管而言是不利的。DC/EP 如果是基于区块链技术的数字货币，基于区块链可追溯性的特点，如果将数字地址与公民身份建立映射，则很容易对 DC/EP 的支付路径进行跨机构的追踪和识别，在监管方面的效率会有提高。</p>\n<p><strong>安全性：</strong> 新技术就意味着新挑战，在技术不够成熟的条件下，DC/EP 很容易会受到外部势力的攻击，当前各 DAPP 不断受到攻击就是最明显的案例。如果组建最优秀的安全团队来保障系统的稳定，是值得思考的问题。</p>\n<p><strong>END:</strong></p>\n<p>总而言之，当前 DC/EP 仍处于犹抱琵琶半遮面的状态，其具体的技术实现路径和应用场景仍不清晰，深圳作为当前最大的风口，已经被列为数字货币发展的最前沿阵地，我想，纵有千百阻挠，历史固有的趋势和进程是不可阻挡的，金融科技和数字货币的浪潮已经席卷而来，拥抱未来是唯一的出路。</p>\n","raw":null,"categories":[],"tags":[]},{"title":"温江绿道","slug":"温江绿道","date":"2022-01-09T06:12:31.000Z","updated":"2022-01-09T06:12:31.068Z","comments":true,"path":"api/articles/温江绿道.json","excerpt":"行文不易，转载请注明出处。成都市温江区，南起万春镇北抵寿安镇，有条不宽不窄的小河，叫江安河。“靠山吃山，近水吃水”，河道两岸的村民借助江安河水的灌溉，垦出了亩亩农田，纵使经历过旧时的动乱，也...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/Qmaa7p2NwdmHnZmGSTELuh5rUGtPhkV9WriYU55E4jzNoS","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmaa7p2NwdmHnZmGSTELuh5rUGtPhkV9WriYU55E4jzNoS\" alt=\"8a6c23ee-99e7-46fc-9478-fe784560fd47\"></p>\n<p>成都市温江区，南起万春镇北抵寿安镇，有条不宽不窄的小河，叫江安河。“靠山吃山，近水吃水”，河道两岸的村民借助江安河水的灌溉，垦出了亩亩农田，纵使经历过旧时的动乱，也扎扎实实养育了几辈人。这些年，“用力过猛”的城市化进程把人的身体往城市拽，把人的心灵往乡村赶，乡村旅游经济逐渐兴盛起来。灵巧而勤劳的温江人沿江安河道修建了一条南北蜿蜒六十多公里的骑行观光线路，也给它取了一个极为朴素的名字，“绿道”。温江绿道，一年四季，景致错落不同，闲暇时余，确是个绝佳的去处。</p>\n<p>虽生于城市，乡村于我，亦不生疏。母亲的老家在农村，孩童时，夏天跟随舅家表哥下河摸蚌，初次下水的我，也不知哪来的勇气，衣服也不脱，竟学起大孩子们的狗刨姿势，拙拙劣劣的下了深水。果不然，咕咚咕咚喝了几大口泥水后，我拼命挣扎着用手脚找地，竟也连滚带爬的扑到了岸上，那是我第一次感受到真正的害怕。秋日的清晨，几个小屁娃扑进露珠尚未风干去的田野，不顾脚裤腿的湿凉一遍遍的趟过茂盛秋草，惊起大大小小一片的蚂蚱。呼的眼前跳起一只青色的大虫，“蹬倒山！”，我嗷的一声直扑上去，抓住了！我高高举起双手炫耀着最单纯的快乐和骄傲。随着年龄的增长，回农村的次数少了，与乡村的记忆也都渐渐斩断，丢失在了模糊的思绪里。</p>\n<p>第一次去温江绿道的时候，我有点感动。</p>\n<p>骑上单车，徜徉在河边，轻柔的河风夹杂着些许凉意，直吹到脸上惬意的很，淡淡的河泥味、青草味和着路边茶馆的热茶香，深吸一口气，清凉感直冲脑门，而后关于乡村的各种记忆开始交织，各种关于回忆的美好与感动似乎在这一瞬突然出现，又霎那间消失，让人想抓住也无从下手。</p>\n<p>温江绿道公平的给予了每个人编织记忆的机会。两个泼皮的小男孩正值七八岁的年纪，不知天高地厚的猛蹬着租借来的自行车，拗着劲比拼着速度，其中一个被路边的石子别的哗啦一声摔下车，脑门磕破了皮却倔强的板着脸抖着嘴不吭一声。</p>\n<p>年轻的姑娘三三两两的结伴而来，时而莺莺碎语时而捂嘴腼腆的笑，浅色的 T 恤搭配碎花的短裙，真是青春最好的模样。有的姑娘突然停下车发现被咬了满腿的包，嘿，这讨厌的蚊子哦！</p>\n<p>至于我，记忆最深的，还是那个茶馆。</p>\n<p>骑到一半，累了，我便将单车支在一边，躲进路边的茶棚里，讨口茶喝。这里的茶是免费的，不大的茶棚里并齐摆着两张方桌，桌上茶壶里的水还算温热，茶壶周边散落着几个茶杯。炎热的夏日，骑车搞得一身是汗，也就顾不得讲究，一屁股坐在凳子上，抄起一个茶杯就咕嘟咕嘟灌上几口，霎时间疲劳就消去大半。至于老板，清早便支起了麻将桌，自顾自的享受牌桌上的“血战到底”，喊了他好几声连头也不抬。转头一看，吧台前趴着一小妹儿，约莫十八九岁的光景，纯白色半袖 T 恤搭配短牛仔裤，俏皮的短发刘海处别着一枚粉色的发卡，竟捧着一本巴金的《家》读的出神。或许是我盯得久了，姑娘发现了我，客气的向我微笑，左手指将散发捋到了耳后，又沉沉的读了下去。不知怎的，身上突然就添了些力量，也坐不住了，就道了谢离去。</p>\n<p>之后，又去过几次绿道，每次绿道带给我的感受和际遇都不同，这不长不短的骑行路线竟也充满着各种惊喜。</p>\n<p>我曾给自己取过笔名“问舟”，意思取“茫茫人海一叶扁舟，既问来处，又问归途之意”。绿道于我的感受与“问舟”意同，绿道起于回忆也终于回忆，回味往昔的来处，也创造着新的体悟与归途，至于这中间的路嘛，只有走过的人才有最真切的感受。想必每个人的心中都有这样一条绿道吧。</p>\n<p>离开成都已经四年，但关于温江绿道的记忆却始终清晰，不时的仍能回忆起茶馆小妹儿那温暖的脸庞，那真挚的笑容在阳光下炫目的几乎透明，呵！真想再去一次绿道啊！</p>\n","raw":null,"categories":[],"tags":[]},{"title":"何必非要去中心化——浅析央行数字货币基于UTXO模型的设计路线","slug":"何必非要去中心化——浅析央行数字货币基于UTXO模型的设计路线","date":"2022-01-09T06:11:06.000Z","updated":"2022-01-09T06:11:06.462Z","comments":true,"path":"api/articles/何必非要去中心化——浅析央行数字货币基于UTXO模型的设计路线.json","excerpt":"行文不易，转载请注明出处。央行数字货币 DCEP 喊了几个月的“呼之欲出”但似乎总是千呼万唤不出来。事情往往是这样，想象的简单，但执行起来，又是另一番光景。就像现在的区块链热一样，本意是技术...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmWob4eNejGvqc3GTv6tJ1tgxmFfv1Rgx2qmtYS97ia7MC","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmWob4eNejGvqc3GTv6tJ1tgxmFfv1Rgx2qmtYS97ia7MC\" alt=\"b730e2d0-58be-4a69-aac2-5bae1e46fbfc\"></p>\n<p>央行数字货币 DCEP 喊了几个月的“呼之欲出”但似乎总是千呼万唤不出来。事情往往是这样，想象的简单，但执行起来，又是另一番光景。就像现在的区块链热一样，本意是技术革新绕过现有货币格局推进人民币国际化，监管当局现今却忙于辟谣和打击诈骗。</p>\n<p>笔者近期拜读了万向首席经济学家邹传伟为财新专栏撰写的 DCEP 分析文章，文章推测 DCEP 将使用基于 UTXO 模式的中心化账本，独毕我忽有茅塞顿开之感。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmY5vM7sCz2iG5sKV8YvBf3vppoqAiUhHB4Z4NpkvHCVzZ\" alt=\"ababad85-c682-4676-8191-01179bd80bd3\"></p>\n<p><strong>（1）何必非要去中心化</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"229a4e0e-c4ae-4de3-b9bc-5bb7d53d55ac\"></p>\n<p>谈到区块链，我们往往联想到不可篡改、去中心化和可追溯三个特性。区块链的概念源自于 Bitcoin，以中本聪为代表的密码朋克巧妙的将原有的密码学技术整合，引入博弈论的技巧进一步优化了分布式通信系统中的拜占庭将军问题。密码天才们的思想是叛逆的、是极致的，也往往 anti-politic，从这点出发，区块链天生“反骨”，演变到现在，似乎区块链天生就必须去中心化，与现有的中心化、寡头垄断化互联网对立（从这点出发，笔者最欣赏 Gavin Wood，关于 Web3.0 的构想简直令人神往）。故而当前主流公链也纷纷标榜社区的自治性和公平性，通过白皮书阐述自己如何通过优化共识机制和博弈机制来避免独裁和作恶，代议制，这种最原始的民主权利形式对于崇尚自由、渴求表达的互联网公民来说，有着无限的吸引力。</p>\n<p>但上述这些不是我们近期在新闻中、在媒体上讨论的区块链技术表现形式。笔者对于从政府主导区块链发展这件事情上，一开始持有消极的态度，也一直围绕一个核心问题在思考：政府层面区块链的应用如何有效设置出块节点，在节点集中且非中心化的条件下，如何保证区块链不会发生硬分叉？节点间又是否需要博弈呢？这种思想是将去中心化的共识机制与区块链簿记账本技术绑定在了一起，现今想来，何必非要去中心化的共识，何必考虑节点的博弈，为何不能放下“骄傲”呢，这些在当前的区块链政府应用中，是最不值得考虑的因素。一旦舍弃了共识的复杂度，TPS 会实现指数型跃升，唯一需要考虑的是合理设置有限个节点实现数据冗余并保障节点安全性避免硬分叉（就央行数字货币而言，如何确认交易发生的最终性以及是否延续最长链原则，也是需要思考的问题）。</p>\n<p><strong>（2）关于 UTXO 的阐释</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"a9e4e402-c04d-45fe-a775-186c1acb3508\"></p>\n<p>我们回到央行数字货币和 UTXO 上来，出于对央行数字货币基于 UTXO 路线的阐述，我们先阐释 UTXO。UTXO，Unspent Transaction Outputs,意思是未被花费的交易输出，它是 Bitcoin 底层区块链簿记技术的概念之一。</p>\n<p><strong>Transaction 本身</strong> 。Bitcoin 的区块链账本最主要记录的内容就是 transaction，交易一旦被打包进区块并通过共识机制上链后（一般需要 6 个区块高度的确认），交易的最终性就得到了确认。在传统的账户交易体系中，资金的持有量以账户的余额形式体现，资金的转出和转入直接体现为账户余额的增减，这种形式非常直观，几乎所有的 Bitcoin 钱包也参考这样的形式展现。然而，在底层的区块链账本层面，交易发生的细节却截然不同。</p>\n<p>在 Bitcoin 的区块链系统中，transaction 是一组被传递的脚本代码，代码包含 transaction input 和 transaction output 两部分，第一笔产生 Bitcoin 的交易为创世区块的 coinbase transaction（实际上每个区块被确认时，区块的记账权所有人都有权发起一次 coinbase 交易，并将挖掘出该区块的奖励发送给自己）。这种特殊交易的 input 称为 coinbase，比较特殊，不在此文的分析范围，因此本文在后续行文中提到的交易都不包含 coinbase 交易。第一笔交易的 output 在被下一笔交易消费前就成为了 Bitcoin 区块链上的第一笔 UTXO。</p>\n<p>除 coinbase 交易外，普通交易的 input 通过哈希指针（指明 UTXO 所在交易的哈希值及其序号）指明了哪笔 UTXO 将被消费，并包含了该笔 UTXO 的解锁脚本来验证所有权。</p>\n<p>交易的 output 包含两个方面，一是该 output 中 Bitcoin 的数量，通过最小单位 satoshis 来表示，二是与 input 中解锁脚本相匹配的锁定脚本。</p>\n<p>**基本的概念。**我们还是回到 UTXO 上来，实际上 UTXO 是全部尚未被某笔已发生交易中的 input 所引用的 output 的集合。简单来说，就是如果一笔交易的 output 尚未被另一笔交易（已被确认）的哈希指针引用，即未被“消费”，则该 output 就可以被称为 UTXO。Bitcoin 区块链的全节点会追踪整个区块链网络中的全部有效的 UTXO，形成 UTXO 的集合（UTXO set）并进行保存和动态更新。任何一笔有关 Bitcoin 交易的发生，都意味着 UTXO 集合的变化，也就触发了全节点中 UTXO set 的更新。当我们说用户的钱包收到一笔 Bitcoin 转账的时候，实际上是钱包在区块链中识别到了一笔与该账户密钥对应的 UTXO，该账户的私钥可以对该 UTXO 进行签名并以此作为 transaction input 的前提构造新的交易。而钱包中某个账户所持有 Bitcoin 的余额，是该钱包在区块链账本中搜集到的所有可以被该账户“花费”的 UTXO 的集合。</p>\n<p>**UTXO 所包含的的 Bitcoin 数量。**在 Bitcoin 的币值单位表示方面，理论上 Bitcoin 的币值可以精细到小数点后八位。一笔 UTXO 所包含的 Bitcoin 数量在构造交易的时候被确定，一旦交易生成，该数值便无法再更改，UTXO 只能作为整体被消费，不能拆分消费。我们可以将 UTXO 比作面值不同的纸币，纸币可以被兑换为更多的小面值纸币，满足不同消费需求。</p>\n<p>考虑如下场景（单一 input，多个 output），如果我们需要支付 1Bitcoin，但我们只有 20Bitcoin 的 UTXO，我们将构造这样笔交易：消费 20Bitcoin 的 UTXO，产生两个 tranaction outputs，一个包含 1Bitcoin 支付给目标方，另一个包含 19Bitcoin 支付给你自己。这种过程就像是付出了面值为 20 元的纸币，兑换成面值 1 元和 19 元的两张纸币，1 元用于支付，19 元自己留存。</p>\n<p>考虑另一场景（多个 input，单一 output），如果我们需要支付 5.5Bitcoin，而我们恰巧有 2 个 2Bitcoin 的 UTXO，1 个 1.5Bitcoin 的 UTXO，则将上述三个 UTXO 作为输入，产生一个 5.5Bitcoin 的输出。</p>\n<p>在实际操作中，用户只需要输入需要支付的 Bitcoin 数量，其余关于 UTXO 的分拆和组合是通过钱包自动进行的。随着交易的不断发生，不断有旧的 UTXO 被消费并移出全节点的 UTXO set，又有新的 UTXO 被生成并加入 UTXO set，因此 Bitcoin 的价值也随着交易的发生在不同账户地址间转移。</p>\n<p><strong>（3）进一步的深入思考</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmb5y87mLKvaxdBJiCVpQeypsdzvuKNtra7FnRhkanskL9\" alt=\"25b6f2b1-32e0-46bc-b3fb-282ea650105a\"></p>\n<p>关于链上数据可追溯。通过上一节 UTXO 模型的阐述，可以想见，如果 DCEP 采用 UTXO 模型，则任何一笔 DCEP 的 UTXO 都可以定位到其所在的交易，进而通过 Input 中的哈希指针和序号定位前一步的 UTXO，一直向前追溯直至 coinbase 交易。因此，这就形成了一条资金链，任何一单位的 DCEP 自其由 coinbase 交易产生起，其转移的形式和转移的目的地在区块链上都是清晰可见的，这就是数据的可追溯。</p>\n<p>新币和旧币的问题。一旦采用了基于 UTXO 的模型，DCEP 就会涉及到新钱和旧钱的问题，所谓钱的新旧，就是指一单位 DCEP 价值其所涵盖的 UTXO 历史的长短。举个例子，如果你的钱包收到了 1DCEP，实际上你是拥有了包含 1DCEP 的 UTXO，这个 UTXO 所包含的 1DCEP 的价值可能来自于很多小单位 UTXO 的组合共同作为 transaction 的 input，也可能是单个大额的 UTXO 拆分而来，无论如何，上述前一步的 UTXO 又与再前一笔的 UTXO 产生联系，因此你此时拥有的 1DCEP 的价值是通过很多历史的 UTXO 传递而来的，这就像纸钞经过了很多人的手才到了你的手里，此时你手里的钱是旧钱；考虑另一种情景，如果你刚刚拿到的 1DCEP 的 UTXO，是通过 coinbase 交易产生而来，或者距离 coinbase 交易仅有几步的追溯，那么你手中的这 1 份 DCEP 的 UTXO 历史就短，此时的钱，是新钱。</p>\n<p>为什么要区分新钱和旧钱呢？钱越新，其关于 UTXO 的历史越短，这笔 DCEP 经过非法交易或者灰色领域的可能性就越小，就越干净，因此我们都喜欢新钱，排斥旧钱。考虑到市场上劣币驱逐良币的原则，新币就会被人们储藏起来逐渐退出流通，最终充斥在市场上的就会是“锈迹斑斑”的旧钱。在实际运行中，其实我们不太需要考虑这些问题，因为我们看不到区块链链上的内容，展现给我们的只是钱包上的数字而已，需要考虑这些的，往往是 DCEP 节点参与者的金融机构。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmPD8gEBpRZQBLCuyFz5cp3dtAmjGiejPURbqLfkhdKvKQ\" alt=\"e468ed2f-21ec-4087-94dc-13a581ea2e2a\"></p>\n<p><strong>后记：</strong> 最近时间多些了，文章更新的频率也会更快些，感谢一直默默支持的朋友，每一次的阅读，对我来说，都是莫大的激励，欢迎公众号留言，共同探讨未来、发现未来。</p>\n","raw":null,"categories":[],"tags":[]},{"title":"央行数字货币DC/EP全景解析：运行机制、场景应用及前瞻性分析","slug":"央行数字货币DC-EP全景解析：运行机制、场景应用及前瞻性分析","date":"2022-01-09T06:10:00.000Z","updated":"2022-01-09T06:10:00.329Z","comments":true,"path":"api/articles/央行数字货币DC-EP全景解析：运行机制、场景应用及前瞻性分析.json","excerpt":"行文不易，转载请注明出处。关于央行数字货币 DC/EP，笔者有过两次解析（参见《央行数字货币 DC/EP 之我见》、《何必非要去中心化——浅析央行数字货币基于 UTXO 模型的设计路线》，可...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmYA3UAqg7tyQQ1X6bmffDPodzb8NpYqtTgaHQwqTHwYJ2","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmYA3UAqg7tyQQ1X6bmffDPodzb8NpYqtTgaHQwqTHwYJ2\" alt=\"6f76673a-a68b-467d-9e12-b1b13f3926c2\"></p>\n<p>关于央行数字货币 DC/EP，笔者有过两次解析（参见<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483955&amp;idx=1&amp;sn=be2891b93952ad751384bffe606b6642&amp;chksm=fe6c870bc91b0e1d243e64281254bcb422363c51e57e2fd90b86d1f278a723f43fa436e3a6ab&amp;scene=21#wechat_redirect\"><strong>《央行数字货币 DC/EP 之我见》</strong></a>、<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483979&amp;idx=1&amp;sn=f50d11371ca85e14e9e39df085d70666&amp;chksm=fe6c8773c91b0e65d424c23c4b48eb6f822773c40f6c8af7766cf152ceec73d587f27293ed7b&amp;scene=21#wechat_redirect\"><strong>《何必非要去中心化——浅析央行数字货币基于 UTXO 模型的设计路线》</strong></a>，可做背景资料参考）。而后笔者仔细拜读了央行数字货币研究所前所长姚前的公开学术论文及国家知识产权局的央行专利信息，关于 DC/EP 的全景图逐渐铺展开来。在本文中，笔者将全面介绍央行 DC/EP 的运行架构及机制、场景应用并做出基于深度思考的前瞻性分析，与众读者分享。</p>\n<p><em>（以下内容基于姚前博士公开论文及央行专利信息整理分析而来）</em></p>\n<p><strong>01</strong></p>\n<p><strong>央行 DC/EP 的二元运营模式</strong></p>\n<p><strong>（1）基本框架</strong></p>\n<p>关于央行数字货币的运营模式，有一元制和二元制之分。一元制是央行走到台前，充当货币服务商，采取类似当前第三方支付平台（支付宝、微信）的运营方式，为社会公众统一提供数字货币的发行、回笼和转移服务。这种运营模式一方面对央行运营能力和科技实力提出了挑战，另一方面实质与当前商业银行形成了竞争机制，会造成商业银行的存款流失，并不符合我国当前的金融体系运转实际。</p>\n<p>二元是指央行和商业银行，二元运营模式一方面对我国当前正在运行的货币制度安排保持一致，另一方面能够充分调动商业银行的积极性，共同参与我国数字货币体系的建设，具体介绍如下：</p>\n<p>如下图，二元运营模式分为三个层次：</p>\n<p><strong>第一层</strong>是央行与商业银行间的货币发行、回笼及商业银行间的数字货币转移。</p>\n<p><strong>第二层</strong>是商业银行对社会个人及企业开展数字货币的存取服务。</p>\n<p><strong>第三层</strong>是社会个人及企业间的数字货币交易及转移。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmaw24KVhy9xhhSEf6hL2Gui2hZK4Zaeat5bXv5qtEmTsB\" alt=\"图片\"></p>\n<p><strong>特别的：</strong></p>\n<p>i. 在货币的发行、回笼方面，在传统制度安排下，各商业银行在中央银行开设存款账户，央行通过商业银行的存款账户进行货币的发行和回笼。当数字货币系统加入后，必须将数字货币系统与传统商业银行的央行存款账户进行关联，实现在现有制度安排下，数字货币的发行与回笼不影响当前央行的货币发行总量。</p>\n<p>ii. 数字货币系统通过等额调整商业银行存款准备金的方式实现数字货币的发行和回笼，同时不改变央行的总货币供给量。简要来说，央行货币总供给=基础货币*货币乘数，其中基础货币是指被社会公众持有的现金与商业银行存款准备金（包括法定存款准备金和超额准备金）的总和，而货币乘数与法定准备金率、超额准备金率和现金漏损率相关，笔者在此不多赘述。数字货币在发行和回笼时，如果能够等额调整对应商业银行在央行的存款准备金，则能够保证向社会投放的基础货币不变，则央行货币总供给不变。</p>\n<p><strong>（2）数字货币的发行、回笼与转移</strong></p>\n<p>央行数字货币的发行和回笼主要涉及商业银行数字货币系统、央行数字货币系统和央行会计核算系统。</p>\n<p><strong>数字货币的发行：</strong></p>\n<p>如下图所示（CBDC,Central Bank Digital Currency，此处可与 DC/EP 看做等同），</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmajf9vUDnPBBajoHopAjU7ViN6quFMvbStRV8L1oQyPL1\" alt=\"图片\"></p>\n<p>商业银行向央行提交 DC/EP 请领申请，央行审批通过后，先关联传统的会计核算系统进行等额的存款准备金扣除，后发行所有人为对应商业银行的 DC/EP 至该商业银行。</p>\n<p><strong>数字货币的回笼：</strong></p>\n<p>如下图所示，</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmSgYQmUq6sp5QVNPqmEj7CsTEMLjFJpMB46HptsqvKk8h\" alt=\"图片\"></p>\n<p>商业银行向央行 DC/EP 提交缴存申请，央行审批通过后，首先对缴存的 DC/EP 进行作废处理，而后关联会计核算系统调增对应银行的存款准备金，操作完成后通知对应商业银行。</p>\n<p><strong>数字货币的转移：</strong></p>\n<p>关于数字货币的转移，在第一层和第三层有所区别。第一层主要涉及数字货币在商业银行间的调剂和转移，主要特征为大额和低频；第三层主要涉及数字货币在个人和机构之间的转移，主要特征为小额和高频。因此，在上述两个层次的货币转移中，对央行数字货币系统提出了不同的要求。</p>\n<p>DC/EP 的转移涉及直接转移、合并转移和拆分转移三个方式，DC/EP 的基础模型笔者在前文**《<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483979&amp;idx=1&amp;sn=f50d11371ca85e14e9e39df085d70666&amp;chksm=fe6c8773c91b0e65d424c23c4b48eb6f822773c40f6c8af7766cf152ceec73d587f27293ed7b&amp;scene=21#wechat_redirect\">浅析央行数字货币基于 UTXO 模型的设计路线</a>》**中进行了细节阐述，以 UTXO 为蓝本进行，关于 UTXO 的合并和拆分方式请参考前文，此处不再赘述。如下图，DC/EP 的转移主要体现为所有者的变化。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmVQmkPEM4awsniBjdSjJKNnTqUeWDodgKGmXyAb9vnLcj\" alt=\"图片\"></p>\n<p><strong>（3）一币、两库、三中心</strong></p>\n<p>在谈完基础框架后，我们聚焦在央行数字货币体系的核心要素上。</p>\n<p>**一币：**即央行数字货币 DC/EP，其在价值维度上是信用货币，有国家信用保证，具备无限法偿属性，与当前央行发行的纸质货币和计算机系统中的电子货币并无区别；其在技术维度上是加密货币，其本质上是有价值信息的加密字符串，利用计算机加密算法来保障其流通的安全性；其在应用程度上是智能货币，由以太坊发展起来的智能合约概念已经被广泛接受，央行 DC/EP 在模型设计中也预留了智能合约的拓展字段（见下节），可以利用 DC/EP 的智能货币属性开展传统货币所不具备的功能性布局。</p>\n<p>**两库：**即央行数字货币发行库和商业银行银行库。央行数字货币发行库可以看做 DC/EP 的铸币所，而商业银行银行库可以看做商业银行的 DC/EP 金库，两者本质上都是数据库，是加密货币的数据记录集合。上述“两库”对数字货币具体运营中有着极高的安全性要求，任何风险的暴露都将导致灾难性后果。特别而言，对于上述“两库”的管理入口设计及应急事项处理设计，要极端谨慎。</p>\n<p>**三中心：**即认证中心、登记中心和大数据分析中心。认证中心中，央行对数字货币的机构和用户身份进行集中管理用于认证，对于不同层次的用户采用不同的技术认证体系。登记中心中，央行记录数字货币的权属登记，同时记录数字货币的产生、流通、清点核对及消亡的全过程。大数据分析中心中，央行进行 KYC（用户识别）、AML（反洗钱）和 ATF（反恐怖融资）的大数据实时分析。</p>\n<p><strong>（4）DC/EP 的模型设计</strong></p>\n<p>央行 DC/EP 笔者猜测是在 UTXO 模型的基础上进行了改造和优化，实现了支持可拓展的加密货币形态，依据其原型系统的表述如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmWfWhxcwHMxhYmjrVxYdPVwcAHP41UrAj2V57tk6HdQsT\" alt=\"图片\"></p>\n<p>不考虑 DC/EP 的具体实现细节（从安全性考虑，央行大概率也不会公布，仅参与系统建设的项目人员可知），从结构上，DC/EP 包括编号、金额、应用扩展、可编程脚本、所有者及发行者签名。其中编号类似当前纸币的冠字号，对数字货币进行唯一性识别，猜测使用哈希加密算法；金额细分程度与纸币一致，精确到 0.01 元；所有者标识明确数字货币的归属权。</p>\n<p>其中的可编程脚本为预留空间，同时应用拓展可细分为不同的应用属性，每种应用属性参考不同的参数进行，通过应用拓展和可编程脚本，央行数字货币可实现不同程度的场景应用（参见第二章）。</p>\n<p><strong>（5）运行技术细节</strong></p>\n<p>关于技术细节，限于公开资料的有限，同时基于读者阅读便利性的视角，笔者并不想过多赘述，一方面这些对于公众的参与度和相关性不高，另一方面央行数字货币对于公有链和联盟链的技术参考度也不大（从安全性、稳定度考虑，央行数字货币必将采取最保守同时也是创新度最低的设计方案）。仅将央行发行数字货币的技术架构简要叙述如下：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmdfXxk2R9QBKuvSHyGgUwVpzKgeP1DWzXVCKJZKbYMjtC\" alt=\"图片\"></p>\n<p>在央行开展的一期原型系统架构中，主要涉及三个系统的交互，即央行数字货币系统、商业银行数字货币系统及数字票据交易所三者的交互。在数字货币发行时，商业银行核心系统（即商业银行核心业务系统，是商业银行内部支持主要业务场景运作的服务器集群系统，是一个较为宽泛的概念）向央行数字货币系统前置提交请求，该前置转发报文至发行登记子系统（登记中心），登记子系统通过前置系统与央行会计核算系统通信要求扣减对应商行准备金，扣减完毕后会计核算系统分别通过前置与商行和发行登记子系统通信扣减结果，扣减成功后登记子系统发行 DC/EP 并通知确权发布子系统（上述过程中，发行登记子系统会与认证中心进行实时交互，用于相关参与机构的身份信息认证），确权发布子系统进行数据清洗和信息脱敏，形成确权账本，由央行确权账本节点通过 P2P 协议与各商业银行的确权账本节点进行同步，更新数字货币的增发信息。同时值得注意的是，央行的确权账本节点可以提供货币确权及全流程查询服务（信息已脱敏）。</p>\n<p><strong>02</strong></p>\n<p><strong>央行 DC/EP 的场景应用</strong></p>\n<p><strong>（1）基于 P2P 借贷的场景优化设计</strong></p>\n<p>伴随着区块链技术火速推广的同时，是我国在 P2P 互联网借贷平台领域的逐步退出，究其根本原因，在于 P2P 互联网借贷的行业乱象和系统性风险已经超出了监管机构监督管理的能力范畴，同时 P2P 平台的先后暴雷，已经对社会公众造成了极其负面的社会影响和极大的社会负担。导致 P2P 互联网金融坠落的重要原因之一是信息不对称，投资者将资金投入平台后，资金的管理和使用相当程度上由平台和资金使用方把控，虽有托管机构的资金托管，但机制不健全和监督不到位造成了极大的道德风险。鉴于此，基于央行数字货币的特性和姚前博士的学术论文，笔者总结出四点基于 P2P 借贷场景的优化。</p>\n<p>** 1. P2P 平台方的角色转型**</p>\n<p>传统 P2P 借贷平台存在投资人分散，单笔投资金额小但投资总额大的特点。因此面对存款账户的大量沉淀资金，借款平台会逾越其资金中介的角色，造成资金风险。同时，在托管资金的全流程管理上，也主要由平台参与，对往来资金的过多经手和参与，不是最理想的 P2P 平台模式。因此在数字货币系统参与的背景下，由于资金托管方式的改变（部署智能合约，见下节），平台方将不再参与资金的管理，因此角色转变成为真正的第三方机构，为交易双方提供信息收集、资信公布及信贷撮合等服务。</p>\n<p><strong>2. 智能合约部署降低合约风险</strong></p>\n<p>在传统的 P2P 借贷平台中，借贷双方是实质上的契约关系，但基于信息不对称、法律专业度不足等原因，投资者往往在合同签订上处于弱势地位，无法识别“霸王条款”，上述问题可以通过在平台部署安全可靠开源的的智能合约来解决。最早智能合约的概念诞生于以太坊，遵循 code is law 的宗旨，将双方协议通过计算机代码的形式进行明确，智能合约的运作在安全审计完毕后具有客观独立性特点，除非留有后门，否则任何参与者都无法对智能合约进行更改，且智能合约的执行是自动化的。在利用智能合约后，原有的平台内部系统就被替代为可信的智能合约环境，成为一个多方可参与的透明平台。</p>\n<p><strong>3. 联合签名保障资金安全和用途</strong></p>\n<p>联合签名是指数字货币的支付必须由多方进行签名才能够进行，在 P2P 场景下，联合签名是指在借款方进行数字货币付款时，必须获取出资人的数字签名才能够成功将款项支付给收款人。如下图，这点可以通过控制数字货币所有人来进行：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmdfRyVcFB8aDTpSec73AyhgkiPAKJhtjV2pnjc2vgG3eQ\" alt=\"图片\"></p>\n<p>出资人（lender）将数字货币转移借款人（borrower）的钱包中，此过程采用联合签名但数字货币所有人仍为出资人，借款人无法直接使用（此过程避免了出资人转移数字货币到借款人付款这段期间资金被挪用的问题）。当借款人有实际付款需求后，向出资人发起付款申请，出资人验证付款方身份及资金用途，明确后添加自己的签名，有了两方签名后，借款人的付款行为成行。</p>\n<p><strong>4. 利用可追溯特性保障资金用途</strong></p>\n<p>在实际借款过程中，存在自主支付和受托支付两种放款方式，当借款人资金用途与实际约定不符时，往往会通过多种渠道将资金回流自己账户或将资金转移至实际收款人账户。基于数字货币可追溯的特性，利用央行数字货币的路径查询功能（利用央行确权查询网站对脱敏后的确权账本进行查询），资金出借人可以监控资金多步骤的流向，保障借款人实际资金用途与约定一致。</p>\n<p><strong>（2）关于“前瞻条件触发”的货币生效设计</strong></p>\n<p>本部分笔者阐述数字货币系统上线后，利用其可编程性（可编程脚本和应用拓展字段）创新货币政策的执行流程。央行利用“前瞻条件触发”的货币生效设计，从时点条件、流向主体条件、信贷利率条件、经济状态条件四个维度改善央行货币政策传导机制不畅、逆周期调控困难、货币“脱实向虚”等困境。</p>\n<p><strong>参考图 1：</strong> <strong>传统货币政策操作流程：</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmdx2xz7uD8ABfS7mjkm44eyGvHoSjK5CGJQTC4USHV71Y\" alt=\"图片\"></p>\n<p><strong>参考图 2：</strong> <strong>优化后的货币政策操作流程：</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmPBfcxEXiUDtVUMa1Vh6U7ByBsFynvfFdWAHWBK6xJHEr\" alt=\"图片\"></p>\n<p><strong>1. 基于时点条件触发的数字货币管理方法</strong></p>\n<p>如参考图 1 所示，在传统货币政策体系下，在 t-1 时刻央行基于经济信息作出货币政策决策，在 t0 时刻向商业银行投放货币，商业银行在 t1 时刻向实体企业发放贷款。从 t0 时刻到 t1 时刻，经济基本状态已经发生了变化，这就滋生了货币政策时滞的问题，大大降低了央行数字货币政策的有效性。基于上述问题的产生，央行制定了基于时点条件触发的数字货币管理方法：</p>\n<p>如参考图 2 所示，央行向商业银行发行数字货币时，将数字货币设置为失效状态，在此状态下商业银行无法将自身银行库中的数字货币进行所有权转移并流向市场。商业银行对企业及个人开展贷款行为时，首先向央行发送数字货币生效请求，此时央行验证该请求是否符合设定的时点触发条件，如果符合，则将数字货币生效，商业银行贷款行为成行。</p>\n<p>对于时点触发条件，可以设置不早于某个时点、不晚于某个时点或在某个时间段内，通过设置时点触发条件，有效解决货币政策的当下性问题，合理框定目标数字货币的生效时间（即商业银行信贷货币的投放时间），减少货币时滞问题。</p>\n<p><strong>2. 基于流向主体条件触发的数字货币管理方法</strong></p>\n<p>在传统货币政策中，央行对货币进行投放后，即失去了对货币的掌控，货币最终能否流向实体部门或者政府意图的目标群体，只能通过事后监督和问责进行模糊管理，无法精准“滴灌”。基于上述问题的产生，央行制定了基于流向主体条件触发的数字货币管理方法：</p>\n<p>如参考图 2 所示，央行向商业银行发行数字货币时，将数字货币设置为失效状态，在此状态下商业银行无法将自身银行库中的数字货币进行所有权转移并流向市场。商业银行对企业及个人开展贷款行为时，首先向央行发送数字货币生效请求，此时央行验证该请求是否符合设定的流向主体触发条件，如果符合，则将数字货币生效，商业银行贷款行为成行。</p>\n<p>通过设置流向主体的条件，可以最大程度的精确对特定领域的数字货币投放量，货币政策管理实现了精确性、集约型管理的转变，这对于实施经济的结构性改革，提高金融服务实体的能力是大有裨益的。</p>\n<p><strong>3. 基于贷款利率条件触发的数字货币管理方法</strong></p>\n<p>货币政策利率是央行政策引导的重要指标之一，特别在当前房地产领域过热，国家严格管控的市场背景下，如何发挥基准利率对市场的引导作用，取代传统的事后利率监测模式，变被动为主动，对当前央行利率政策提出了挑战。基于上述问题的产生，央行制定了基于贷款利率条件触发的数字货币管理方法：</p>\n<p>如参考图 2 所示，央行向商业银行发行数字货币时，将数字货币设置为失效状态，在此状态下商业银行无法将自身银行库中的数字货币进行所有权转移并流向市场。商业银行对企业及个人开展贷款行为时，首先向央行发送数字货币生效请求，此时央行验证该请求是否符合设定的贷款利率触发条件，如果符合，则将数字货币生效，商业银行贷款行为成行。</p>\n<p>关于贷款利率触发生效的条件，在数字货币发行前事先确定，即商业银行对企业的贷款利率=贷款发生时点 t1 的基准利率 + 货币发行时 t0 拍卖确定的信贷基差。上述触发条件一方面考虑了信贷投放时点 t1 时刻基准利率的变化，降低了政策时滞，另一方面考虑了商业银行拍卖产生的信贷基差，兼顾了商行自身的经营实际。</p>\n<p><strong>4. 基于经济状态条件触发的数字货币管理方法</strong></p>\n<p>前三个管理方法涉及数字货币发行后的信贷投放环节，本项管理方法涉及数字货币回笼环节，即对商业银行向央行归还数字货币时，依据什么样的归还利率进行。银行信贷行为具备很强的顺周期性，经济条件好时，银行倾向于释放更多的贷款获得更高的经营利润，经济条件差时，银行倾向于收缩信贷规模，规避信贷风险。这种顺周期性对企业而言有害无利，经济条件好时获得更多的信贷资金往往导致企业过度扩张超出自身经营能力，经济条件差时难以获得资金供血，在经营利润降低的同时也面临资金链断裂的困难。基于上述问题的产生，央行需对银行的信贷行为进行逆周期调节，制定了基于经济状态条件触发的数字货币管理方法：</p>\n<p>如参考图 2 所示，商业银行向央行归还数字货币时，央行依据回收时点的经济信息（例如 GDP、CPI、工业生产总值等宏观经济变量）决定经济状态条件的触发情况，确定是否对商业银行的归还利率进行调整，最终依据归还利率进行数字货币的回笼。通过上述归还利率的调整，可以在经济条件好时提高归还利率，在经济条件差时降低归还利率，通过调整商业银行的资金成本来对商业银行信贷行为进行逆周期调节。</p>\n<p><strong>03</strong></p>\n<p><strong>DC/EP 数字货币钱包的应用</strong></p>\n<p>依据第一章节的内容，央行数字货币基本框架的第三个层面涉及数字货币在社会个人和机构之间的转移，而这种转移的方式是通过数字货币钱包进行的，本章笔者将阐述 DC/EP 钱包的具体细节。这种钱包的实现能够基于现有账户体系的身份开通数字货币钱包，同时实现现有金融基础设施和用户的无差异性体验和平滑过渡。</p>\n<p><strong>（1）钱包登陆与同步方法</strong></p>\n<p>钱包主要登录、同步流程简述如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmf6KrVKuEgP36vQrEhMYtQX9EUjzyPm3u4Gw3mkzwTKro\" alt=\"图片\"></p>\n<p>用户申请登录钱包，钱包验证用户的认证信息（密码、短信验证码、指纹识别、人脸识别等），认证通过后：</p>\n<p>如果用户并非首次登录且钱包信息未发生变化（钱包信息变化是指数字货币钱包合约包升级或钱包密钥更换），在此前提下，若用户仅有一个数字货币钱包，则直接获取该钱包合约包（包括执行代码、钱包标识和钱包证书），验证后显示该钱包；若用户有多个数字货币钱包，则向用户展示钱包列表，用户选择后获取对应钱包合约包，验证后显示该钱包。</p>\n<p>如果用户首次登录或者钱包信息发生变化，则钱包需向钱包服务商（一般为商业银行）要求同步钱包信息，钱包服务商向央行登记中心和认证中心发送同步请求，最终钱包将获取的同步信息展示给用户。</p>\n<p><strong>（2）钱包关联账户及交易信息的查询</strong></p>\n<p><strong>关联账户查询</strong>流程如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmRpqh8QNYzr8M3CAWqecvDgGkeCTHh4z53dCRwDKgJWRk\" alt=\"图片\"></p>\n<p>用户向钱包发起关联账户信息查询请求，钱包接受查询指令，验证后将指令发送至钱包服务机构（一般为商业银行），钱包服务机构对查询指令验证后，依据查询参数（姓名、账户属性、余额、交易明细等）进行查询，获取关联账户查询结果并反馈给钱包，钱包展示给用户。</p>\n<p><strong>交易信息查询</strong>流程如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qme1hq5ZrQgoywtE4SJBaFrSGzosgvcMvVhW4avTLnqfRz\" alt=\"图片\"></p>\n<p>与关联账户流程不同的是，交易信息的查询截止于钱包服务机构的账户核心系统，关联账户信息储存在对应钱包服务机构的自身。而交易信息储存在央行数字货币系统中，因此查询请求要通过钱包服务机构的数字货币系统与央行进行交互后获取脱敏的交易信息。</p>\n<p><strong>（3）钱包数字货币的兑换（取币）方法</strong></p>\n<p>即将银行关联账户中的部分资金兑换为钱包中的数字货币的方法。该方法涵盖数字钱包、数字货币钱包服务端（一般为商业银行）、数字货币发行登记端。用户向钱包发起数字货币兑换（取币）指令，钱包将指令发送至钱包服务端，钱包服务端将上述钱包关联账户中对应取币金额的资金兑换为待转移金额的数字货币（关联账户资金减少，同时钱包服务端按照预设的匹配规则从数字货币保管箱中匹配数字货币），数字货币的发行登记端（登记中心）根据取币金额和待转移数字货币金额确定实际转移金额，将实际转移金额的数字货币所有者变更为取币用户。最终钱包将上述所有者为用户的数字货币字符串列表存入对应的数字货币钱包。</p>\n<p>（4）<strong>钱包数字货币的换出（存币）方法</strong></p>\n<p>即将钱包中的数字货币兑换为银行关联账户中的资金的方法。该方法涵盖数字钱包、数字货币钱包服务端（一般为商业银行）、数字货币发行登记端。用户向钱包发起数字货币换出（存币）指令，钱包将指令发送至钱包服务端，服务端将存币指令信息添加数字货币保管箱标识以生成存币转移请求，发送至数字货币发行登记端（登记中心）。发行登记端对服务端标识和数字货币保管箱标识进行一致性检查，而后确定实际转移金额，将存入的来源币（所有人为用户）串列表作废，生成存入去向币（所有人为钱包服务端）串列表发送至服务端，服务端将上述去向币存入保管箱，并根据实际金额增加用户的关联账户余额。</p>\n<p><strong>04</strong></p>\n<p><strong>关于 DC/EP 的前瞻性思考</strong></p>\n<p><strong>（1）DC/EP 发行对第三方支付的影响</strong></p>\n<p>从银行直连到网联系统的建立，央行对第三方支付平台的监管不断在调整和变化，但无可辩驳的是，随着“无现金社会”的到来，像支付宝和微信这样的互联网支付巨头已经与系统性重要银行有着一样举足轻重的地位，已然列于“大而不倒”的优势地位。一方面，随着第三方交易平台垄断局面的深入，央行不得不向微信和支付宝让渡部分的货币发行权，同时对两者体系内的电子货币承担了某种担保职责；另一方面，面对日益增长的结算和交易需求，如何对第三方支付平台进行监管和引导，这也对央行提出了重大挑战。</p>\n<p>笔者在之前的文章中说过，央行推出数字货币，某种程度上在寻求“平权”，在给第三方支付平台泼冷水。在抢占互联网支付入口方面，商业银行已经被甩在了后面，也在某种程度上印证了马云改变银行的话，但数字货币的发行以及数字货币钱包的应用，将是商业银行挽回落后局面的重要机会，央行对数字货币取代 M0 的重大决心意味着未来相当程度的高频低额交易将通过央行数字货币钱包来进行，这种对现有支付宝、微信的取代，将是一场新的跑马圈地运动。</p>\n<p><strong>（2）DC/EP 突破储蓄零利率下限</strong></p>\n<p>当前国内经济内忧外患，有着较强的下行压力，消费、投资、出口这三架拉动经济增长的马车均被掣肘，出口不提，如何促进消费和投资，数字货币提供了突破储蓄零利率下限的机会。在极端情况下，当国家强制进行投资和消费时，会将储蓄利率调负（实际当储蓄利率低于通货膨胀率时，就已经是实际负利率了），此时公众可以将资金取出，通过纸质现金方式保管资金，这相当于给储蓄设定了无法突破的零利率的铁底。如果 DC/EP 实行后，其将取代纸质现金的形式，如果对数字钱包设定一定的管理费，则就突破了储蓄零利率的下限。</p>\n<p><strong>（3）关于隐私和社会工程学分析</strong></p>\n<p>区块链技术在隐私保护方面有着天然的对立两面。一方面基于钱包地址的匿名性，一般情况下很难将一段钱包地址与单个自然人建立联系，特别是当钱包地址几乎没有发生过交易的情况下。另一方面，一旦将钱包地址与单个人建立关联，基于其可追溯的特性，关于单个人的全部交易明细和环节将一览无遗，此时又何谈隐私呢。在第一章中我们提到，央行会将脱敏后的确权账本开放查询接口，笔者预测大概率只有商业银行和监管机构才有权查询此确权网站，同时央行会对不同参与角色设置不同层次的追溯权限以最大限度保障用户隐私。</p>\n<p>这里我们不得不提到社会工程学分析的问题，社会工程学是黑客攻击中普遍用到的思路，基于黑客攻击中获取到的计算机信息，结合攻击对象的社会角色及行为习惯进行推断和分析，能够大大节省攻击的成本，特别对密码破译来讲有奇效。如果央行数字货币簿记信息在某种程度下泄露，则结合社会工程学分析，将会对个人隐私的管理造成巨大的负面影响，不多赘述。</p>\n<p><strong>（4）区块链行业规范后的前景</strong></p>\n<p>自去年底区块链行业进入冰封时期，BTC 跌落至 3000 刀时，笔者曾断言，区块链行业的下一个牛市只有在拥抱监管后才能爆发，截至目前，区块链行业仍处于艰难的拥抱监管过程，主要交易所归化，牛鬼蛇神伏诛，链圈名正言顺，币圈鸡飞狗跳，从笔者角度来看，这是件好事。未来的浪潮已经袭来，我们只能顺水推舟，顺势而下，时势造英雄。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmPD8gEBpRZQBLCuyFz5cp3dtAmjGiejPURbqLfkhdKvKQ\" alt=\"0c914b93-688e-483b-9c3e-f768c39853a7\"></p>\n<p>**结语：**关于央行 DC/EP 的思考，大抵就到这里了，但值得思考的是，央行数字货币的推出，究竟还有多远呢。</p>\n","raw":null,"categories":[],"tags":[]},{"title":"从因他农山到狮子山 ——央行DCEP外汇结算支付体系的可行性探索/香港金管局Inthanon-LionRock项目的一站式解析","slug":"从因他农山到狮子山-——央行DCEP外汇结算支付体系的可行性探索-香港金管局Inthanon-LionRock项目的一站式解析","date":"2022-01-09T06:09:06.000Z","updated":"2022-01-09T06:09:06.870Z","comments":true,"path":"api/articles/从因他农山到狮子山-——央行DCEP外汇结算支付体系的可行性探索-香港金管局Inthanon-LionRock项目的一站式解析.json","excerpt":"行文不易，转载请注明出处。（公众号：刘言不蜚语）从因他农山到狮子山——央行 DCEP 全球外汇结算支付体系的可行性探索 &香港金管局 Inthanon-LionRock 项目的一站式解析...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmQ1XYj1HcgW3SBXdrFML6WzQmzzKK3yABLQi38M3oP7tp","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><strong>（公众号：刘言不蜚语）</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmQ1XYj1HcgW3SBXdrFML6WzQmzzKK3yABLQi38M3oP7tp\" alt=\"38402bf1-782c-4613-b764-79ee28e7b131\"></p>\n<p><strong>从因他农山到狮子山</strong></p>\n<p><strong>——央行 DCEP 全球外汇结算支付体系的可行性探索</strong> <strong>&amp;香港金管局 Inthanon-LionRock 项目的一站式解析</strong></p>\n<p><strong>01</strong></p>\n<p><strong>前言</strong></p>\n<p>关于央行数字货币 DCEP 的话题已逐渐降温，月前 DCEP 几乎已要呼之欲出了，但细细想来这只是各路媒体的一厢情愿而已。本该就是这样，用以替代 M0 的 DCEP 如果不经历反复的测试和推演就贸然推出，将对我国的货币体系产生未知的负面影响。笔者理解，就 DCEP 和人民币国际化的弯道超车发展思路而言，要分两步走，第一步是建立稳定的国内数字货币运行体系，在优化传统纸币流通体系弊病和缺陷的同时，为国际社会树立数字货币体系运行范本。而后牵头建立国际数字货币汇兑管理平台，完善管理体系、成立类 IMF 的新型国际货币权威机构，弯道超车，成为规则制定者。</p>\n<p>关于央行数字货币 DCEP 的技术和运行细节，笔者在《<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483979&amp;idx=1&amp;sn=f50d11371ca85e14e9e39df085d70666&amp;chksm=fe6c8773c91b0e65d424c23c4b48eb6f822773c40f6c8af7766cf152ceec73d587f27293ed7b&amp;scene=21#wechat_redirect\">何必非要去中心化——浅析央行数字货币基于 UTXO 模型的设计路线</a>》和《<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483999&amp;idx=1&amp;sn=04d85fdbb80fba607e52e8243a8fea0d&amp;chksm=fe6c8767c91b0e716c6321db5e0db51ad30bdccea77de2332da31a31b20d6eab375c8b2ca2c7&amp;scene=21#wechat_redirect\">央行数字货币 DC/EP 全景解析：运行机制、场景应用及前瞻性分析</a>》文章中进行了预测和分析。本文，笔者从香港金管局和泰国央行合作开发的 Inthanon-LionRock 项目出发，详实解析央行 DCEP 国际化路线和成立国际数字货币汇兑平台的可行性路径。</p>\n<p><em>本次行文参考《Report on Project Inthanon-LionRock》</em></p>\n<p><strong>02</strong></p>\n<p><strong>关于 Project Inthanon-LionRock</strong></p>\n<p>Inthanon-LionRock 项目是泰国央行（BOT, Bank of Thailand）和香港金管局（HKMA, Hong KongMonetary Authority）合作，通过探索分布式账本技术（DLT, DistributedLedger Technology）的应用，来提升跨境资金转账效率的初步探索。该项目的提出，目的是要克服当前多层级跨境转账体系的低效率、高成本、可追溯性不足、监管困难等痛点。通过在实验模型中引入分布式账本 DLT 技术，来促进跨境转账和原子化 PvP（Payment vs. Payment）外汇交易的优化。（atomicity,原子化或者原子性，是指可靠数据库管理系统中的事务（即交易 transaction）应当具备的四个特性之一，意思是该笔交易不可再分，要么全部执行，要么全部不执行，不会存在执行一半的情况。具体到外汇兑换场景，在一笔 atomic 的外汇兑换交易中，一方支付本币的同时另一方必定支付外币，不会出现一方支付但未收到对手方资金的情况，这种原子性避免了交易中的信用风险）。</p>\n<p>Inthanon-LionRock 项目不仅由港泰双方的央行领衔，本次双方共有合计超过十家金融机构参与了项目的建设实验，其中港方参与者包括汇丰银行和众安银行（ZA Bank，香港首笔获准成立的虚拟线上银行）。虽然项目不是由大陆央行主导的，但笔者理解，香港金管局的本次联合实验，在某种程度上是为央行 DCEP 的未来发展路径进行了一次有效的尝试，从结果来看，成果是显著的。值得一提的是，Inthanon-LionRock 项目是在 R3 联盟的 Corda 区块链平台上进行的搭建，R3 联盟目前已经汇集了全球最顶尖的众多金融机构，因此引入成熟商业解决方案也是对政商联合开展区块链项目应用的一次有效尝试。</p>\n<p>Inthanon-LionRock 项目于 2019 年 9 月启动，本质是一种 POC（proofof concept），即实验性的概念验证。项目尝试在现有香港 LionRock 数字货币网络和泰国 Inthanon 数字货币网络之间搭建一条走廊网络（Corridor Network），来实现港币和泰铢的线上兑换和转账。（香港 LionRock 数字货币网络和泰国 Inthanon 数字货币网络都是基于 Corda 平台的区块链项目，两个网络都是通过央行发行国家数字货币，来实现网络参与各方的头寸结算和转账支付）。</p>\n<p>注：后文中，笔者将使用 CBDC（Central Bank Digital Currency）来代替央行 DCEP 的意思表示，本质上来讲，央行 DCEP 是 CBDC 的别称而已，W-CBDC 代表 wholesale CBDC。</p>\n<p><strong>03</strong></p>\n<p><strong>项目鸟瞰图</strong></p>\n<p><strong>3.1</strong> **  简介**</p>\n<p>Inthanon-LionRock 项目致力于通过实现流程化的协调机制模型、实时的转账、原子化的 PvP 结算来优化批发性大额跨境支付的场景。在项目成立之前，香港和泰国已经独立成立了探索性项目来探索特定范围内的 W-CBDC 的应用前景（后文中，我们使用 domestic network 或者本地数字货币网络来特指上述两个独立的数字货币体系）。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmRRjwohETLYk7Go4t2yThkrXdgfXo6tkvCSgZgAyexr36\" alt=\"69dc7fbc-4fb6-4364-93a2-cc68f4a82d3b\"></p>\n<p>香港金管局在 2017 年就实施了 LionRock 项目来探索 W-CBDC 的优势与风险，研究基于 DLT 系统的 CBDC token 和债券发行，主要包括：</p>\n<p>（1）基于 DLT 技术的审计：CBDC 代币发行、债权代币化及付款交割；</p>\n<p>（2）当前系统对于新参与者的潜在服务延展性；</p>\n<p>（3）基于监管要求的交易可追溯性评价；</p>\n<p>（4）CBDC 作为支付系统的整体评价。</p>\n<p>泰国央行在 2018 年成立了 Inthanon 项目组，研究利用 DLT 账本技术来增强泰国金融基础设施，增强各参与方协同能力的可行性：</p>\n<p><strong>第一阶段：</strong></p>\n<p>（1）现金代币化；</p>\n<p>（2）债权代币化；</p>\n<p>（3）Gridlock 解决方案；</p>\n<p>（4）自动化的流动性供给机制。</p>\n<p><strong>第二阶段：</strong></p>\n<p>（1）债权生命周期管理；</p>\n<p>（2）数据清洗和管理。</p>\n<p>在上述双方独立研究成果的基础上，2019 年 HKMA 和 BOT 合作初始化了 Inthanon-LionRock 项目：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmZ8QdiodRc4VXGjhuwG7pGWYn7R9UNGBouMgaJsak4yYV\" alt=\"2155e45a-4a60-42e4-ae30-26d64a709cec\"></p>\n<p>（1）跨境结算的效率研究；</p>\n<p>（2）流动性管理的效率研究；</p>\n<p>（3）嵌入本地化监管要求；</p>\n<p>（4）可拓展性架构以实现更广阔的的应用场景。</p>\n<p><strong>3.2  整体愿景</strong></p>\n<p>Inthanon-LionRock 项目通过建立走廊网络，实现跨境资金的实时转账和外汇兑换，减少结算层次，提升效率，降低成本。</p>\n<p>（1）通过建立可共享的 DLT 跨境网络，基于原子化的 PvP 交易，实现跨境资金的高效转移和外汇的快速兑换。</p>\n<p>（2）同时评估项目在功能性和非功能性两方面的表现，实现本地化网络与走廊网络的无缝衔接。</p>\n<p>（3）提升跨境结算的效率、流动性管理的效率和链上的监管水平。</p>\n<p>（4）孵化中央银行和商业银行的共同协作环境，利用 DLT 的潜力来提升当下金融基础设施的稳固和创新。</p>\n<p><strong>3.3  视野与目标</strong></p>\n<p>**3.3.1  **<strong>功能性目标</strong></p>\n<p>（1）存托凭证兑换（DR，Depository Receipt，此处的存托凭证并非传统意义上的代表上市公司股权的权益性工具。而是走廊网络中特别设计的，用来代表货币价值的 token 代名词，包括两种，一种是代表港币的 DR-HKD（Hong Kong Dollar），一种是代表泰铢的 DR-THB（Thai Baht））。在香港和泰国的本地数字货币网络及走廊网络中，都可以实现 DR 的兑换。同时，支持在本地数字货币网络中自动将 DR 转化为对应的 CBDC。</p>\n<p>（2）跨境资金转移。实现 P2P 并且即时的银行间跨境资金转移。</p>\n<p>（3）外汇兑换。有三种汇率实现机制，分别是现行汇率、询价和链下安排。（后文会详细介绍）确保港元和泰铢互换的原子化 PvP 交易。</p>\n<p>（4）嵌套外汇兑换的跨境资金转移。在跨境资金转移命令中嵌套先行的外汇兑换指令。（后文会详细介绍）</p>\n<p>（5）流动性管理。设立交易队列机制，允许参与者设定交易的优先级从而管理他们的交易队列。设立多资产流动性节约机制（MLSM, Multi-asset Liquidity Saving Mechanism），解决交易队列中的拥堵问题。提供即时的流动性注入，通过本地网络 CBDC 转换为走廊网络的 DR，或者向外币 DR 流动性提供方（走廊网络中的特殊角色）借贷，来解决跨境走廊网络中的死锁问题（deadlock，实质是资源占用锁定问题）。</p>\n<p>（6）服从监管要求。监督即时的 HKD 和 THB 钱包和交易信息，同时纳入泰国关于非居民账户的管理要求。</p>\n<p><strong>3.3.2  非功能性目标</strong></p>\n<p>（1）交易的原子性。这点在上文提过，数据库的非完整更新，即防止交易仅执行了一部分。</p>\n<p>（2）结算的最终性。区块链或者说分布式账本技术的核心问题之一就是交易的最终确认，或者说是交易的不可回滚问题。</p>\n<p>（3）系统弹性。系统健壮性的概念，当系统中出现作恶节点时，各功能性和非功能性目标能否继续满足。</p>\n<p>（4）交易的隐私性。设立恰当的匿名机制，最低限度披露隐私信息。</p>\n<p><strong>3.4、架构设计</strong></p>\n<p>走廊网络的架构设计如下图所示，是很基本的区块链架构设计，基于 Corda 平台解决方案：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmWPQrvSQDStBMw77hfukwmDxV35nmuVX25mY72h34XqmA\" alt=\"f3773961-1df5-44ce-a89a-2a5ca9374745\"></p>\n<p>整体而言，走廊网络作为桥梁，联通起了香港和泰国的 domestic CBDC 支付网络。所有参与银行在 domestic 网络和走廊网络都各自运行着自己的节点，央行亦如此，但值得注意的是，由于核心权利节点应当是唯一的，因此在走廊网络中，核心权利节点（operator node），由 HKMA 和 BOT 共同维护。同时，在前文中提到，为保障系统的流动性供给，走廊网络中还存在一个外币 DR 流动性提供方的角色，在当前实验环境下，这个角色由 operator node 来担当。</p>\n<p>（1）共识机制。共识机制保障最终性，同时资产的转移和转化交易是顺序排列下来的。特别的，在 Corda 网络中，Corda 舍弃了传统每个节点都要验证和记录每笔交易的全网广播模式，仅仅要求每笔交易的参与方对交易进行验证和记录，这在极大提高 TPS 的同时也规避了交易数据的私密性问题，但由于参与共识节点不足，共识机制健壮性不足，因此 Corda 网络引入了 notary 节点机制，要求 notary 节点之间形成更广泛的共识，而每笔交易需要至少通过一个 notary 节点进行验证，算是在安全性和可拓展性上进行了取舍和平衡。</p>\n<p>（2）参与银行节点。除央行外，其他参与走廊网络的银行都要运行一个普通节点，同时在每日截止时运行合规调度程序。</p>\n<p>（3）央行联合节点。发行 DR token，实现 CBDC 和 DR 的相互转换，提供 MLSM 和外币流动性。</p>\n<p><strong>04</strong></p>\n<p><strong>走廊网络</strong></p>\n<p><strong>4.1  模型设计</strong></p>\n<p><strong>4.1.1  当前形势与面临的挑战</strong></p>\n<p>目前，跨境资金转移是非常耗时且成本非常高的，依据世界银行数据，当前跨境资金转移平均手续费率在 7% 左右。总体来说，在当前多层级的跨境交易模式下，跨境交易的效率很大程度上依赖于代理银行（correspondent bank，往往是一国范围内资本实力雄厚，有丰富国际业务管理经验的大型银行，在国际业务中代理银行互相联系和响应构成现行国际汇兑网络，而这些代理银行承担着国内众多中小银行的国际业务代理职能）。代理银行会提供一系列服务，包括现金管理、国际电汇、票据清算、过渡账户和外汇结算等。中小银行依靠代理银行处理涉及境外对手方的交易，这种体系允许中小银行在不开设海外分支机构的前提下参与国际金融市场。基于当前体系下的跨境交易可通过以下示例展示：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmQofFK7fqPaa7GXVcE3NiGivE2K3NPeAkAczZH3x3Foc5\" alt=\"37c2a4b0-eb0c-4e48-84b2-8213353d49b3\"></p>\n<p>假设一家泰国公司（Thai Corp）要从香港公司（HK Corp）进口货物并支付 1 million 的货款，因此泰国公司需要在 A 银行将泰铢兑换成港元，然后将港元支付给香港公司在 Z 银行的银行账户中：</p>\n<p>（1）A 银行在香港并没有账户，但 A 与 B 银行有合作关系，而 B 银行是代理银行（correspondent bank），因此 A 将兑换好的港元支付给 B 银行，此时港元到达 B 在香港 Y 银行的银行账户上。</p>\n<p>（2）B 银行通知 Y 银行将其港元账户上等额的资金支付给香港公司在 Z 银行的账户上。</p>\n<p>（3）Y 银行进行转账，并通知 Z 银行。</p>\n<p>（4）Z 银行通知香港公司已收到资金。</p>\n<p>通过上述案例的展示，可以发现在资金转移中经过了多个参与方，所有参与方之间都需要互相通信并确认交易内容，在实际中，这种情形可能会耗费多达几天的时间，因此，上述代理银行模型主要面临以下几个痛点：</p>\n<p>（1）运营上的问题。在沟通过程中，各参与方可能会涉及信息沟通标准及技术问题，这大大提升了复杂度。同时，在发起交易和实际执行交易过程中也存在时滞（不同时区等原因），因此，此类结算交易需要很长的时间窗口。</p>\n<p>（2）境外账户（nostro account）的流动性管理。这涉及往帐 nostro account 和来帐 vostro account 的概念，前者往往指银行在境外金融机构开设的外币账户，用于外币汇兑结算。如果业务涉及多个国家，则可能需要开立多个 nostro account，这就对多个账户的流动性管理提出了挑战。</p>\n<p>（3）结算风险。在外汇交易市场中，存在结算失败的风险，如果结算时一方进行了汇款，而对手方由于粗心或者流动性不足导致无法付款，则结算风险产生。</p>\n<p>（4）可追溯性。对于交易全流程的可追溯性在传统代理银行模型下不容易实现，而交易双方关注的仅仅是交易的发起与最终资金的确认，进一步说，一笔交易的进行过程中其中间参与方往往不是透明的，因此会出现模糊的、不合理的费用支出。</p>\n<p>（5）监管要求。不同国家地区的监管要求是不同的，这对跨境交易和外汇结算时所对应的监管提出了挑战。</p>\n<p><strong>4.1.2  对不同预选模型的探索</strong></p>\n<p>为解决上文提到的传统代理银行模型的痛点，目前业内普遍提出的模型可以被分成两类，如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmbcQtA8BxC6ps839MvjV5d2ipUwBkAYhLo1va2hbLJVCd\" alt=\"dd28d363-7dd2-4136-839d-ca7131d93312\"></p>\n<p>（1）开放参与式模型（Cross-participation）</p>\n<p>中央银行作为 RTGS（Real-time Gross Settlement system，实时清算系统）系统的运营方，允许外国实体参与到本国或本地区的 RTGS 系统中来。这种模型的核心是中央银行依旧对自己本国的货币具备完全掌控。在此之下，此类模型有三个变体，主要区别在被允许参与到 RTGS 系统中的外国实体类型：一种是外国的中央银行；一种是被准入的外国结算银行；第三种是所有符合资质条件的银行。在前两种变体中，被允许的中央银行或者外国结算银行承担的是类似代理银行（correspondent bank）的角色，对于第三种变体，所有有资质的银行都可以参与到一国的 RTGS 系统中，此时代理银行的存在就不必要了。</p>\n<p>（2）资产扩张模型（Asset expansion）</p>\n<p>在资产扩张模型中，RTGS 网络必须允许它的参与者都能够持有并且直接转账外币。在此类模型中，中央银行面临的主要挑战就是如何控制主权货币的供应量。关于此类模型的变体主要聚焦的是外币持有和转账交易所发生的地点。一类是本币 RTGS 网络支持本币和外币的结算；一类是多币种 RTGS 网络支持本币和跨境所有结算交易；第三种是单独的多币种走廊网络支持跨境交易（本项目采用的模型）。在第三种模型下，各主权地区都可以独立管理自己的 RTGS 网络，同时又可以相互合作管理共同的走廊网络。但即使在这种模型下，央行仍然要思考主权货币的供应问题，因为一国货币在另一国家内循环，会降低央行对货币总供给量的调控。可能的有效管理措施包括控制非居民实体的本国或本地区货币的总持有量。</p>\n<p><strong>4.1.3  最终的模型</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmc5SH8wVHPkeDT3vKyc3zLXt9ENsRk2kMMYDbtweczf8S\" alt=\"586706ac-aaf4-423c-a8e4-132421019b7f\"></p>\n<p>参考上图，依据上述对于预选模型的探讨，走廊网络的模型主要有以下特点：</p>\n<p>（1）一国央行是 CBDC 的唯一发行方和赎回方。</p>\n<p>（2）domestic 结算网络（Inthanon network 和 LionRock network），是独立于走廊网络的。一个国家或地区的非居民银行是不允许参与到 domestic 结算网络中来的，也就不可能持有 CBDC。</p>\n<p>（3）走廊网络（corridor network）仅仅是用于跨境结算，所有走廊网络的参与方都是各 domestic 网络的参与银行，为实现走廊网络的结算交易，存托凭证 DR token 的概念被引出，作为走廊网络的货币价值载体。</p>\n<p>（4）在走廊网络中，参与银行可以持有 DR-THB 和 DR-HKD 来实现 P2P 的交易结算，这些结算都具备最终性。</p>\n<p>（5）流动性管理（包括交易队列管理、拥堵管理、流动性供给等）对于走廊网络中的各类货币都适用，遵守监管要求也是必要的。</p>\n<p>与此同时，走廊网络的参与方和角色如下：</p>\n<p>（1）营运节点（operator node）。由 HKMA 和 BOT 联合管理，负责 DR-THB 和 DR-HKD 的发行和销毁，同时响应 DR 和各 CBDC 的兑换。解决网络拥堵问题，保障流程符合监管要求。</p>\n<p>（2）参与方节点（Participating bank node）。发起跨境交易结算，管理自己的本币和外币流动性。</p>\n<p>（3）外币流动性供给者（Foreign currency liquidity provider），当流动性不足出现死锁状态时，提供日内的临时性流动性。</p>\n<p><strong>4.2  核心功能</strong></p>\n<p><strong>4.2.1  存托凭证 DR 的转换</strong></p>\n<p>为获取 DR，参与银行必须将其在 domestic network 中持有的足值的 CBDC 进行兑换，例如，如果香港的银行想获取走廊网络中的 HKD 流动性，则其必须提交将 LionRock 网络中的 CBDC 转换为走廊网络中的 DR-HKD 的交易请求。每个 domestic 网络中的央行节点充当走廊网络网关的角色，央行节点必须保障走廊网络中新增的 DR 价值与 domestic 网络中销毁的 CBDC 价值保持一致。同时，从 DR 到 CBDC 的反向转换也是可行的，如果一家银行在每日终了仍有 DR 余额，那么它可以将其转换为 CBDC 存入自己的 domestic 网络钱包中。</p>\n<p><strong>4.2.2  跨境资金的转移</strong></p>\n<p>如下图，走廊网络中的跨境资金的转移是一种单向的付款交易，网络中的付款银行既可以付款 DR-LCY（local currency）也可以付款 DR-FCY（foreign currency）到收款银行。一旦付款银行发起多笔交易，它可以在每笔指令中设定收款银行名称、付款金额和转账目的备注，一旦交易被提交，交易要么立即被同时执行（流动性充足），要么被安排到队伍序列中，依据优先级和流动性情况依次被执行。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmaeLo9Rg9famMVuJ3YQ84tWiJNX1U6kdqwvMLLg7dkY7H\" alt=\"4e074428-92ae-45a2-bf2e-d819b1e0ad95\"></p>\n<p>主要包括以下几种情形：</p>\n<p>（1）发送 DR-LCY 到外国银行。</p>\n<p>（2）发送 DR-FCY 到另一本国银行。</p>\n<p>（3）发送 DR-FCY 到外国银行。</p>\n<p>在走廊网络中，唯一不可行的就是发送 DR-LCY 到另一本国银行，因为这种场景交易双方银行可以直接在 domestic 网络中通过 CBDC 转移进行，而不需要浪费走廊网络中的资源。</p>\n<p><strong>4.2.3  外汇交易的执行</strong></p>\n<p>当走廊网络中的参与银行想要进行外汇交易时，有三种方式来决定交易汇率：现行利率、报价和链下安排。所有交易都通过原子化的 PvP 交易进行。</p>\n<p>（1）现行利率（Board Rate）</p>\n<p>如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmXg8hAxiPZhKer88gEVxzniG2QRzB2TyKtnDYywaqh5iH\" alt=\"7d1da0ab-82a9-44d3-8384-fd97f0757340\"></p>\n<p>现行利率机制允许有外汇交易需求的银行能够获得走廊网络中各交易对手方的实时最优报价，而系统自动选定当前网络中的最优汇率为该银行进行本外币的兑换。有需求的银行是 market taker，而其交易对手方可以有多个 market maker，做市商 market maker 在向系统提交汇率报价时，应至少包括汇率类型（bid or ask）、可兑换敞口金额以及汇率，此类报价可以随时更新</p>\n<p>（2）报价（RFQ,Request for Quote）</p>\n<p>如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmTbX3PW7GoJgY7JHEB4exETPMNK3AbLACr3bwNiyh9ABJ\" alt=\"56562415-28b1-4b92-a9bf-d400303d090f\"></p>\n<p>报价机制为需求银行提供了可以选择交易对手的权利，作为 market taker 的需求银行，可以向走廊网络中的一个或多个潜在意向对手方寻求报价，一旦对方回应，需求银行可以选择确认执行或不执行。</p>\n<p>（3）链下安排（Off-Corridor Arrangement）</p>\n<p>如下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmU4DMTKWYaFiix3EZ6BydVLtPABH2HcPBE1qEDUpMRyYA\" alt=\"333a73c7-500a-4e7b-b49d-a7407c55d0e3\"></p>\n<p>链下安排（走廊网络下安排）机制提供了一种走廊网络参与银行与非参与银行间进行外汇交易的可能性，一旦汇率确定，走廊网络非参与银行可以通过参与银行实现外汇交易（类代理银行机制）。想要实现链下安排，交易双方必须提交具有相同参考值和交易细节的交易请求，系统进行自动撮合。</p>\n<p><strong>4.2.4  嵌套外汇交易的跨境资金转移</strong></p>\n<p>此类功能实际上是跨境资金转账交易指令和外汇交易指令的合成，是前两小节内容的整合。如下图，此类交易指令发起后，系统首先通过现行利率、报价和链下安排三种制度方式之一进行外汇交易兑换，兑换完毕后，再执行资金转移交易进行资金转账。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmUGq18iDpadmsQ7RkCdMoP6rXkveA7BUm7Hai2kubXzPk\" alt=\"c1387b6e-8492-4252-8093-b8cd22d55ead\"></p>\n<p><strong>4.2.5  流动性管理</strong></p>\n<p>走廊网络通过以下机制进行 DR-FCY 和 DR-LCY 的流动性管理：</p>\n<p>（1）交易队列机制</p>\n<p>交易队列机制（Queueing Mechanism）是当银行面临临时的流动性不足时，其所发起的交易将会被安排到队列当中并设定优先级，当银行钱包中有了资金后，队列依据优先级依次执行交易。</p>\n<p>（2）MLSM</p>\n<p>多资产流动性节约机制主要用于应对系统堵塞（Gridlock）问题，目的是找到一种定期触发的、系统堵塞情况下的网络解决方案，不仅适用于单向付款，也适用于原子化的 PvP 交易。</p>\n<p>（3）及时流动性</p>\n<p>当 MLSM 中出现死锁状态时，除非流动性不足的银行增加所需资金头寸，否则交易无法继续进行。这就意味着系统需要建立一种 ALP（Automated Liquidity Provisioning）自动的流动性供给机制来及时为资金短缺方提供流动性。如果银行缺少本国货币，则 ALP 系统自动将其 domestic 网络中的 CBDC 转化为 DR-LCY，如果银行缺少外国货币，则 ALP 系统自动从外币流动性提供方手中借入外币为银行注入，但借入的外币需要当天归还。</p>\n<p>（4）代币转换</p>\n<p>DR 代币的转换是流动性管理的前提，通过代币转换机制，参与银行可以实现 DR 和 CBDC 的随时转换，这为本币和外币账户的流动性灵活管理提供了可能性。</p>\n<p><strong>4.2.6  监管要求</strong></p>\n<p>中央银行的重要职责之一就是对金融市场进行实时动态监管，在走廊网络中，基于分布式账本可追溯性的特点，为央行对交易的监管提供了高透明度。因此如果在系统运行中响应监管的要求，是走廊网络完善工作的重中之重。</p>\n<p>（1）实时监管</p>\n<p>在走廊网络中，央行通过对交易的生命周期进行监控，来满足区域性的监管要求。系统设定为各个交易类型提供实时报告，这些交易类型包括跨境资金转账、外汇交易和嵌套外汇交易的跨境资金转账交易（上文都已提到过）；央行可以监控到所有的外汇实时汇率报价，来检测外汇市场的发展走势；央行可以观察 DR 与 CBDC 的转换情况，对 domestic 网络及走廊网络中的货币流通量进行实时调整；央行还可以监控死锁所引起的日内外币资金借贷情况，同时观察是否所有资金都在当日截止前被归还。</p>\n<p>（2）泰国央行的特殊监管要求</p>\n<p>由于东南亚危机过程中泰铢的巨额贬值对泰国当局造成了极大损失，基于上述历史经验，泰国对汇率稳定有着严格的监管要求。泰国有两类非居民（NR, non-resident）可以持有的账户，一类是 NRBA（Non-Resident Baht Account），一类是 NRBS（Non-Resident Baht Account for Securities），后者仅仅用于对金融工具的投资使用，而前者的用途更为广泛，基本涵盖交易、服务、接待、直接投资等多个方面，同时每日的日末资金余额限制及透支额度限制对两类账户都适用。</p>\n<p>由于在走廊网络中仅涉及资金的往来和清算，因此走廊网络中的泰铢账户可以等同于 NRBA，除非特殊目的申报，每日终了账户余额上限为 200million。值得注意的是，每日终了的账户余额上限是指单个实体在泰国所有账户余额的总和不超过 200 million，这些账户包括走廊网络上的，也包括走廊网络下的，一旦总额超过 200million，则系统自动对多余的 CBDC 和 DR-THB 进行外汇交易清算。</p>\n<p><strong>05</strong></p>\n<p><strong>技术设计及发现</strong></p>\n<p><strong>5.1  系统架构</strong></p>\n<p>简要系统架构如下图所示：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmaKugPAGJtU7wVW4d4oW8A2PRzxuzQu1LRGJ1ThXVpcgV\" alt=\"e139292a-ce83-4ce1-a265-82647866f0de\"></p>\n<p>概念验证测试（POC）考虑了三个异构的、相互独立的、基于 Corda 平台的多币种货币流通网络运作场景，同时保证了三个网络之间的互操作性，代币的发行和转换基于对三个网络中央行节点的完全信任。其他参与银行节点在 domestic 网络和走廊网络中均运行 Corda 节点，借助 API 接口和 UI 客户端与网络进行互动和响应。出于对现有货币体系的安全性考量，设置了防火墙机制并建立了白名单。</p>\n<p>（1）走廊网络的 Corda 节点</p>\n<p>走廊网络中，所有参与银行都运行一个 Corda 节点，央行间合作共同运行一个 Corda operator 节点。走廊网络中通过运行 CorDapps（Corda Dapps）来提供跨境转账、外汇交易等核心功能。</p>\n<p>（2）Domestic 网络的 Corda 节点</p>\n<p>每个参与银行节点跟央行都各自运行一个 Corda 节点，央行节点负责 domestic 网络的代币化和监管。CorDapps 提供代币转换（to DR）功能。</p>\n<p>（3）API</p>\n<p>API 服务由节点运行，作为 DLT 层级间（即 domestic 网络和走廊网络上的 Corda 节点与 web 客户端）的中间件。与 Corda 节点的通信通过 RPC（RemoteProcedure Calls）进行。API 服务能够将客户端的交易请求传送至节点上，同时还能够对终端用户的认证和授权临时性内部数据（相较已经被 DLT 确认的数据）进行集中管理。</p>\n<p>（4）UI</p>\n<p>基于 Web 的 GUI 界面，来实现与网络节点的互动与操作，UI 客户端的交易请求将被发送至 API 服务。</p>\n<p><strong>5.2  走廊网络应用架构</strong></p>\n<p>整体架构流程可以参照下图：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmTwkTbhi9tKCCy3VAnzson4FNHbmHGfD5J2Lkgp1ne56n\" alt=\"5ae8f317-923a-4746-8e70-8617bcb7faac\"></p>\n<p><strong>5.2.1  模块</strong></p>\n<p>（1）核心与插件</p>\n<p>在走廊网络中，核心和插件模块是继承于泰国央行的 Inthanon 项目的。这些模块提供了总体的金融资产模型、核心结算和可定义模型来支持净头寸的结算，增强了 MLSM 机制用来支持外汇交易的进行。</p>\n<p>（2）服务</p>\n<p>走廊网络依靠网络间代币转换、监管与监控、流动性供给、外汇现行利率广播等服务而运行，每个服务可以在 Corda 节点上运行并由节点所有者控制，例如，外汇现行利率广播服务可以由交易所节点提供。但在项目中，为了简便，所有服务都由 operator 节点代理。</p>\n<p>（3）跨境付款</p>\n<p>跨境付款模块将交易定义为智能合约并通过核心模块执行结算，跨境付款还允许嵌套外汇交易功能，两者在一个 DLT 交易中同时完成执行。</p>\n<p>（4）外汇交易</p>\n<p>走廊网络的核心特性之一就是将法定货币代币化并实现不同法币间的交易兑换。在项目中有两类外汇交易，一类是直接执行的，一类是嵌套入跨境转账的。有三种方式确定外汇交易的汇率（在前文已提到），这些方法通过开发智能合约来实现，一旦交易达成，有单独的智能合约来检测交易结算过程的执行，以满足监管要求。</p>\n<p>（5）流动性供给</p>\n<p>当 MLSM 机制出现堵塞时，为参与银行注入流动性就增加了解决问题的机会，这种流程即前文提到的 ALP。不同于 domestic 网络中质押债券作为抵押物获取流动性的方式，走廊网络参与银行可以从外币流动性供给商获得流动性或者直接从 domestic 网络中进行代币转换获得流动性。</p>\n<p><strong>5.2.2  代币转换</strong></p>\n<p>代币转换的意思是 domestic 网络中的请求方申请将 CBDC 转换成走廊网络的 DR，而 DR 的持有人是请求方。这与转账不同，转账意味着代币的所有权发生了变化。代币的转换意味着两个分布式账本的变化，它需要两个 DLT 上的智能合约进行协调工作。因此需要完全信任网络上的央行节点，通过合理的加密机制来处理代币的发行和转换。</p>\n<p><strong>5.3  非功能性的特性</strong></p>\n<p>（1）原子性。前文中已经介绍了原子性的概念，本质就是交易执行的完整性。</p>\n<p>（2）最终性。最终性的意味着系统就某种状态已经达成了共识，对于数字货币或者数字资产，就意味着所有权的转移已经发生。在 Corda 网络中，最终性由 notary 节点确认。</p>\n<p>（3）弹性。同时在两个网络中设置节点增加了交易失败的可能，代币转换机制保障了资金不足、系统中断、网络故障时的系统弹性。这意味着在故障被修复后，央行能够恢复代币的自动转化。</p>\n<p>（4）隐秘性。在项目中，数据隐私的特性被继承了下来，交易信息在最低限度上被披露，身份的匿名性也增强了隐秘度。在现行汇率广播流程中，operator 节点收集做市商的报价信息，market taker 可以从 operator 处获得最优的报价，但无需知道其他 market taker 的信息。</p>\n<p><strong>06</strong></p>\n<p><strong>新框架模式下的交易全流程</strong></p>\n<p><strong>6.1  新流程阐释</strong></p>\n<p>在走廊网络模式下，配合 domestic 网络，在现实跨境交易场景中，交易的速度和透明度有了很大的提升。我们还是使用第四部分中讨论过的案例，假设一家泰国公司（Thai Corp）要从香港公司（HK Corp）进口货物并支付 1 million 的货款，在新机制下：</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qmbaoc3Nnrc5CcUqVHFZBSaSs3jwoUBQvcKzrsDTQsPFnt\" alt=\"776e11ab-8086-49df-9f63-38566c191305\"></p>\n<p>（1）泰国公司通知 A 银行将 1 million 的港元支付给香港公司在 Z 银行上的账户上。</p>\n<p>（2）A 银行检查 Z 银行也是走廊网络的参与银行。</p>\n<p>（3）A 银行将 domestic 网络中价值 4 million 泰铢的 CBDC，转化为走廊网络中等值的 DR-THB。</p>\n<p>（4）在了解汇率报价的基础上，A 银行决定在走廊网络中使用“嵌套外汇交易的跨境资金转移”交易方式进行资金转移。</p>\n<p>（5）系统自动发现 Y 银行提供了最优的汇率报价，可以将 4 DR-THB 兑换为 1 DR-HKD。</p>\n<p>（6）结算交易发生，A 银行获得 1 million 的 DR-HKD 并转账至 Z 银行，Y 银行获得 4 million 的 DR-THB，上述交易过程是同时发生的。</p>\n<p>（7）Z 银行确认交易并将资金划拨至香港公司的账户上。</p>\n<p><strong>6.2  改良之处</strong></p>\n<p>通过上述新交流流程，我们发现了四个改进之处：</p>\n<p>（1）提升了结算的效率。通过实时的跨境支付结算和 PvP 外汇交易结算，效率大大提升了。通过各网络中代币的转移，交易无需再通过中间人就可以直接在银行交易双方发生。</p>\n<p>（2）提升了流动性效率。流动性的有效性通过 MLSM 机制得到了最大化，外汇交易通过在走廊网络中增加外币流动性供给实现，CBDC 代币替代了外币账户的功能。</p>\n<p>（3）更好的服从了监管要求。所有交易都是事实汇报的，减少了事后报告的繁琐流程。系统设定了监管报警触发条件，更好的服从了监管要求。</p>\n<p>（4）有着更广阔的可拓展性前景。尽管本次走廊网络中仅有 10 家银行参与，但这个模型完全可以应用到更为广泛的场景。</p>\n<p><strong>07</strong></p>\n<p><strong>结语</strong></p>\n<p>香港作为中国金融改革最前沿的试验田和当前我国最重要的人民币离岸金融中心，其货币体系的重要性不言而喻，这从外管局把控港币汇率的坚定决心就可窥见一斑。Inthanon-LionRock 项目表面看是香港金管局与泰国央行在数字货币领域的一次实验，笔者以为，从更本质上来讲，是对未来央行 DCEP 在跨境支付和外汇交易领域实现广阔应用的一次突破性尝试，值得仔细去剖析和理解。</p>\n<p>从因他农山到狮子山，自有它的寓意。因他农山的泰国最高峰，港人狮子山下的精神寓意着坚强、勇敢和创新。暗涌的金融市场、激荡的思维碰撞，唯一不变的舍我其谁的魄力与处变不惊的心境。我想，世界货币格局的旧土已然松动，未来鹿死谁手尤为可知，求思求变，才是突破时局的最佳方式。</p>\n","raw":null,"categories":[],"tags":[]},{"title":"关于弗洛姆的记忆","slug":"关于弗洛姆的记忆","date":"2022-01-09T06:07:29.000Z","updated":"2022-01-09T06:07:29.508Z","comments":true,"path":"api/articles/关于弗洛姆的记忆.json","excerpt":"行文不易，转载请注明出处。从南德的历史文化名城奥格斯堡出发，乘火车至法兰克福，转机飞行约莫小半天，于傍晚时分便可抵达挪威首府奥斯陆。当夜，几个知心的朋友在青旅的上下铺有说有笑，话题开了，气氛...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":"https://ipfs.fleek.co/ipfs/QmTucErS7H7qBm6wpMU6rYhk9SdYsrwnJy1PxzTyfk2iuZ","content":"<p><strong>行文不易，转载请注明出处。</strong></p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmTucErS7H7qBm6wpMU6rYhk9SdYsrwnJy1PxzTyfk2iuZ\" alt=\"f261978f-1148-4c28-b4c7-4aaee652b05d\"></p>\n<p>从南德的历史文化名城奥格斯堡出发，乘火车至法兰克福，转机飞行约莫小半天，于傍晚时分便可抵达挪威首府奥斯陆。当夜，几个知心的朋友在青旅的上下铺有说有笑，话题开了，气氛也总会由欢乐转为些许触动后的沉默，后又在喧闹中沉沉睡去，次日便又乘上前往弗洛姆的专列。穿越常年积雪的带状群山，一路西行，伴有兴奋和期待，大抵晌午时候，便终于抵达峡湾旁的港口小镇——弗洛姆。</p>\n<p>这三面环山一面望水的峡湾小镇，守气聚气，故有其独特的灵蕴。码头边少有的一幢二层木屋，朴素的，像是船坞，白漆灰边的，便是弗洛姆少有的几间旅社之一。同行的几个，一人支付 30 欧元，便可享有这旅社唯二的套间之一。房间的床位自是足够，但旅途的饥饿是首先要面对的问题，镇中唯一的超市仅在下午 2 点至 4 点营业，错过了，便再难有物资的供应。好在背包里还备了些应急的好货，煮份意面再搭配拜仁州独有的猪肘肉，捧着倚靠在临近湾水一面的阳台围栏上，天也暗了，猛吸上几口面，嚼着嚼着，竟望着粼粼的波光出了神。只记得四周静的出奇，这刻我完全沉入了自我的世界里，听得见自己徐徐的心跳，这种静谧和宁静是我生平从未体验过的，忽得一种莫名触动，鼻头竟有些发酸，终还是笑了，只把湖面的月影沉在了心底。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/Qma3LFaMbBmYzH6RgyDju1wjVhCrEef2vkeuPR2kFSueR1\" alt=\"d0a3550d-bfc7-40ed-bda3-ae9d021b695f\"></p>\n<p>次日的凌晨起个大早，是该领略一下这北地小镇独有的峡湾风光，当地居民的房屋都是独栋的，分布也分散，进是进不得的，仅能从门前修剪齐整的草丛中散落的农用工具和稍显破旧的秋千中一窥北欧人生活的惬意，亦可从二楼阳台漫溢出的花草真切感受到小镇居民对生活的热爱和赤诚。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmZFfkhBWzBgTZWHxdm6GKwtX695PzppUgTfbh7WiJvNQN\" alt=\"923a1571-d910-44c1-9d28-96119b173b09\"></p>\n<p>山地环绕易积聚水汽，降雨多了，地势低洼处便自成了小溪、河流。沿水循路而上，山地弯绕，不觉间竟也攀到了山腰，坡上农户不多，零星的几家却也不见有人出入，旁边竟也圈起了牛羊。远处群山交缠连绵，层叠递进着似有无穷之意，与祖国的山水比起，景相似但意却不同。</p>\n<p><img src=\"https://ipfs.fleek.co/ipfs/QmQf4JmhPtMLH4Ruixp8jmoQfPFvUwQPcuckrxkyspZTZt\" alt=\"921a8d16-a65d-4d2e-9c84-f36489bc6494\"></p>\n<p>离开弗洛姆的时候，有十足的不舍，弱冠的青年正值意气风发，胸臆填海之志，凌绝顶亦有小天下之豪情，纵般如此，竟也沉溺于这桃园之境。</p>\n<p>时值今日，苦难的经历与卑微的遵从，生活所带给我们的，纵有千难万险，我们拥有的，心中的纯净之地却足以支撑生活的继续并不断滋生对美好的渴望。</p>\n<p>对我而言，弗洛姆就似一处纯净之地。</p>\n<p>有愤怒，有热泪，我想这是生活留给我们的最后的体面。</p>\n","raw":null,"categories":[],"tags":[]},{"title":"深度: 关于Libra2.0的新思路与新思考（壹）","slug":"深度-关于Libra2-0的新思路与新思考（壹）","date":"2022-01-09T06:06:11.000Z","updated":"2022-01-09T06:06:11.675Z","comments":true,"path":"api/articles/深度-关于Libra2-0的新思路与新思考（壹）.json","excerpt":"DCEP 消息又起，Libra2.0 白皮书也来了。笔者第一时间阅读了 Libra2.0 的白皮书，媒体也第一时间翻译出了中文版，我想一千个观众的眼中有一千个哈姆雷特，笔者基于以下几点考虑形成...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":null,"content":"<p>DCEP 消息又起，Libra2.0 白皮书也来了。</p>\n<p>笔者第一时间阅读了Libra2.0 的白皮书，媒体也第一时间翻译出了中文版，我想一千个观众的眼中有一千个哈姆雷特，笔者基于以下几点考虑形成本文。</p>\n<p>1、省略掉了很多原文中的官话和套话。</p>\n<p>2、将高大上的调子翻的更平实通俗些。</p>\n<p>3、保留文章核心干货并添加笔者自己的思考，笔者思考部分用括号标出，供读者参考。</p>\n<p>4、重组了原文结构，逻辑线更清晰些。</p>\n<p>关于Libra 白皮书 1.0 的内容，可以参考笔者之前的行文：</p>\n<p>《<a href=\"http://mp.weixin.qq.com/s?__biz=MzU5NTcxMTA2Mw==&amp;mid=2247483946&amp;idx=1&amp;sn=700f8a53072c6ed1944db961f95bf348&amp;chksm=fe6c8712c91b0e0486f330f079acd080b52c3925e19a3ead107ca3584c881e617a7b902fbdee&amp;scene=21#wechat_redirect\">刘言：万字长文解析 Libra 技术（上篇）</a>》（下篇还没来得及写~）</p>\n<p><strong>深度: 关于 Libra2.0 的新思路与新思考（壹）</strong></p>\n<p><strong>一、前言及摘要</strong></p>\n<p>Libra1.0 版本白皮书于 2019 年 6 月发布，Libra2.0 白皮书是关于 1.0 白皮书内容的一次升级，同时，相关 2019 年 6 月发布的支持性技术论文也已经被修订。</p>\n<p>Libra 协会这个组织成立的初衷，就是为全世界数十亿的人口提供一个简单的全球性支付系统和金融基础设施。从 2019 年 6 月起，协会所要做的第一步就是创建一个普惠性的、创新性的金融系统，一直以来，Libra 协会就同监管者、央行、管理层以及全球各利益方一道来探索一条道路，这条道路能够将区块链技术与当前的监管框架能够调和的并存并融合起来。协会的目标是要将 Libra 支付系统与各国本土的货币政策及宏观审慎政策进行整合，同时为现存的货币进行补充，赋予他们新的功能，显著的降低中间性成本并赋予各种新的可能。</p>\n<p>随着监管当局态度的转变及当前遇到的困难，协会对最初的路线进行了调整，Libra 协会的目标与其他区块链项目不同，从来不是想要复制或模拟其他系统，而是利用分布式治理机制（与DAO 概念不同，笔者理解的其分布式是从协会成员的多样化而言的，但从目前发展状况来看实质上与股份制企业的治理并无不同）和分布式账本技术（DLT）来建立开放的、可信赖的系统，在这个系统下，传统的金融系统开始变得可编程、可交互、可升级，其他人或机构也可以在 Libra 平台上建立安全且合规的金融应用（传统金融体系的 IT 架构和运营基本是完全封闭的，各金融机构的对外系统接口开放也极其有限，从这点而言，Libra 为金融支付体系的可拓展性提供了无限可能，但从近期各类 Defi 被黑来看，如何保障系统及合约的安全性，无疑是最大的难题）。</p>\n<p>本篇白皮书主要介绍了2019 年以来我们在 Libra 支付体系设计上的一些重要工作，依据监管方面的关注要求，我们做了四个核心的调整，简要如下，详细内容请参见后文：</p>\n<p>1、除1.0 白皮书中提到的锚定一揽子多国货币的 Libra coin（LBR）外，还提出了锚定单一货币的稳定币解决方案。</p>\n<p>2、通过建立健壮的监管服从框架来增强Libra 支付系统的安全性。</p>\n<p>3、放弃未来向无许可链转变的想法，同时尽可能实现无许可链的核心经济特性。（这一点就意味着Libra 放弃了未来转向全球性公链的想法，无许可链就意味着高度去中心化治理和自由度，相应的也就不可控，一旦如此大规模的经济货币系统处于不可控或者自由状态，对于全球经济体系而言，蕴藏着巨大的风险。Libra 协会放弃这些，就意味着未来 Libra 系统将以联盟链的状态存在，但是系统发展的无限可能性就大打折扣了）</p>\n<p>4、在Libra 储备金的设计上加入强有力的保护机制。</p>\n<p>二、<strong>核心调整及其细节内容</strong></p>\n<p>（一）<strong>增加锚定单一货币的稳定币解决方案</strong></p>\n<p>1、LBR 与 Libra 稳定币</p>\n<p>（所谓稳定币的概念是其他数字货币相区别的，类似BTC、ETH 的数字货币，其价值取决于其应用场景和持有者的未来价格预期，有很大的波动性；而稳定币往往是某种货币的锚定币（例如 USDT 之于美元），其价值与锚定货币 1:1 完全绑定，同时存在可 1:1 互换的渠道，从而规避套利机会。在实际情况中，由于在兑换上有流动性限制，因此存在稳定币价格偏离锚定货币的可能，但长期来看，稳定币的价格曲线有明显的均值复归特性。）</p>\n<p>尽快Libra 协会的定位是想让 Libra 网络成为各国法定货币系统的补充而不是与他们竞争，但监管机构仍然普遍认为，当 Libra 这种锚定多国货币的“国际货币”在达到一定体量或者当相当规模的支付结算都通过 Libra 进行时，会对其本国的货币主权和货币政策有效性产生威胁。基于上述情况，我们提出了增加锚定单一货币的稳定币解决方案，前期将从 Libra 所锚定的货币篮子中选取货币种类来铸造 Libra 稳定币（例如 LibraUSD、LibraEUR、LibraGBP、LibraSGD），这就允许对应国家和地区的人们直接使用自己本国货币所对应的稳定币进行交易和结算。每种稳定币都将有等值的储备金作为价值保证，储备金将包括现金、现金等价物以及对应货币的短期政府债。</p>\n<p>相对于各类稳定币，LBR（Libra coin）的角色有了新的定位，它并不是独立于稳定币的一种数字资产，而是 Libra 网络中各类稳定币的“复合品”，不同稳定币的价值在 LBR 的价值中占用固定的名义权重。（稳定币与 LBR 的关系可以参考国际货币基金组织 IMF 中特别提款权 SDR 的概念，SDR 是国际货币基金组织根据会员国认缴的份额分配的，可用于偿还国际货币基金组织债务、弥补会员国政府之间国际收支逆差的一种账面资产，还可与黄金、自由兑换货币一样充当国际储备。特别提款权的价值是由美元、欧元、人民币、日元、英镑这五种货币所构成的一篮子货币的当期汇率确定，五种货币所占权重是固定的。）在实际中，LBR 可以通过依据固定权重整合稳定币的智能合约来实现。</p>\n<p>LBR 由于其中立且稳定的特性，对于不持有 Libra 网络中稳定币的用户，可以作为国际跨境结算的媒介，稳定币 +LBR 的组合，进一步拓展了 Libra 结算网络的可用性，同时可以与各国内部研发的央行数字货币 CBDC 进行无缝衔接与融合。</p>\n<p>2、<strong>经济意义与Libra 储备金</strong></p>\n<p>先前Libra 协会所提出的 Libra 储备金的概念极其运作方法，仅仅是提出了一种基本的概念原型，从 2019 年起，随着与不同机构、监管者、政策制定者及学术专家的不断讨论，关于 Libra 网络的经济体系设计逐渐铺展完整了起来。特别的，G7（七国集团）工作组关于稳定币的研究中提及了一些亟待解决的问题及长期来看会出现的挑战。一个核心的关注点是前文提到的 LBR 规模扩张后对一个货币主权及货币政策有效性的影响，Libra 协会认为这是不可能的，因为 LBR 会受外汇管制的限制（最佳的情况下，LBR 被纳入一国的外汇储备，其总量严格受一国外汇当局监管或可控，但这种情况大概率无法实现，因此上文提到的威胁是真实存在的，特别对于经济发展水平不足的发展中国家，如果 LBR 的使用明显优于美元，将会直接威胁美国在这些国家的利益，包括美元的铸币税、隐形霸权及量化宽松政策在这些国家的消化）。锚定单一货币的稳定币会依据市场的需求量而铸造或者毁灭，同时，由于稳定币与对应法定货币是 1:1 锚定的，因此这个过程不会创造新的货币。（是否不会创造新的货币应当从两个方面考虑：首先，Libra 协会对于稳定币的铸造是否严格遵守 1:1 的设定，是否会存在货币超发的情况，储备金账户的监管机制是如何的，同时如何检测 Libra 的总发行量。例如 USDT 在设计初期也是 1:1 锚定美元，但发展到现在，USDT 由于货币超发问题已经与美元脱锚。其次，一国货币供给量是由基础货币和货币乘数决定的，Libra 稳定币本质就是对基础货币的复制，如果 Libra 体系衍生出信贷行为，则会进一步影响货币乘数，两者的综合会影响一国货币当局对货币总供给量的控制。）对于考虑为本国货币寻求替代物的国家，Libra 可以与其合作在 Libra 网络上发行该国货币的稳定币，对于没有在 Libra 上发行稳定币的国家，使用 LBR 也是很好的选择。对于不同国家用户之间的自己转换和转移需求，Libra 稳定币和 LBR 都可以作为中间媒介使用。同时，Libra 网络自身并不会提供、记录和结算 Libra 货币与一国法币或其他数字资产的结算。相对应的，这种交易所性质的服务将由第三方金融服务商提供。不管是哪个国家和地区，Libra 协会将希望所有虚拟的资产服务提供商（VASP），例如拥有 Libra 网络接口的货币交易所等，能够完全遵守各国的外汇管制及资本管控政策。（Libra 协会将 Libra 代币与法币的兑换服务完全甩给了第三方，而且在原文中使用了 expect 他们遵守法律和外管政策，一方面大大降低了自身的监管压力，同时这种模糊的设定将大大提升 Libra 网络落地的难度。）</p>\n<p>如果一国货币当局发行了自己的CBDC，Libra 网络可以尝试与该 CBDC 进行集成。（也就是说实现 Libra 网络与该国 CBDC 的跨链通信和资产转移，不再发行该国的 Libra 稳定币，直接用该 CBDC 作为 Libra 网络中的稳定币角色来使用。实现这点是极其困难的，先不考虑一国当局是否接受这样的提议并开放接口与 Libra 网络交互，不管公链还是联盟链，区块链跨链技术目前仍处在探索和试错阶段，能否实现国家货币级别的稳定度和安全性，也值得商榷。）</p>\n<p>为了限制Libra 协会单方面的调整 LBR 的成分货币及对应权重，可以设定由监管方、央行及国际组织共同发起的监管机制。同时锚定单一货币的稳定币解决方案的出现，相较原有纯 LBR 的网络，会增加钱包、交易所及商业服务提供商的服务难度，例如钱包将增加跨币种稳定币的兑换机制、稳定币汇款机制等。</p>\n<p>3、<strong>安全性与保护机制</strong></p>\n<p>Libra 网络在经济设计方面的核心目标之一就是建立可信的支付体系。Libra 网络上的每种稳定币都有储备资产作为后盾，同时存在着有竞争力的分销商和交易所网络来为 Libra 网络上的数字货币提供交易和结算渠道。（本质上来讲，如果 Libra 网络上的货币无法与国家法定货币建立自由兑换渠道，这些代币将毫无价值，因此如果在各个国家内部建立合法完善的代币分销和法币兑换渠道，是 Libra 网络能否实现的最大问题，这也是应对各国监管的最大难题，目前数字货币主流交易所由于其管理不完善、运作不透明的原因，基本处于灰色地带运转，如果 Libra 通过上述交易所进行交易，其竞争力将大打折扣。）</p>\n<p>（未完待续，敬请期待。。。。。）</p>\n","raw":null,"categories":[],"tags":[]},{"title":"深度: 关于Libra2.0的新思路与新思考（贰）","slug":"深度-关于Libra2-0的新思路与新思考（贰）","date":"2022-01-09T06:02:22.000Z","updated":"2022-01-09T06:02:22.058Z","comments":true,"path":"api/articles/深度-关于Libra2-0的新思路与新思考（贰）.json","excerpt":"二、核心调整及其细节内容（一）增加锚定单一货币的稳定币解决方案3、安全性与保护机制Libra 网络在经济设计方面的核心目标之一就是建立可信的支付体系。Libra 网络上的每种稳定币都有储备...","keywords":["blockchain","crypto","darwinia","dcep","meta","socialfi","xcarnival"],"cover":null,"content":"<p>二、<strong>核心调整及其细节内容</strong></p>\n<p>（一）<strong>增加锚定单一货币的稳定币解决方案</strong></p>\n<p>3、<strong>安全性与保护机制</strong></p>\n<p>Libra 网络在经济设计方面的核心目标之一就是建立可信的支付体系。Libra 网络上的每种稳定币都有储备资产作为后盾，同时存在着有竞争力的分销商和交易所网络来为 Libra 网络上的数字货币提供交易和结算渠道。（本质上来讲，如果 Libra 网络上的货币无法与国家法定货币建立自由兑换渠道，这些代币将毫无价值，因此如果在各个国家内部建立合法完善的代币分销和法币兑换渠道，是 Libra 网络能否实现的最大问题，这也是应对各国监管的最大难题，目前数字货币主流交易所由于其管理不完善、运作不透明的原因，基本处于灰色地带运转，如果 Libra 通过上述交易所进行交易，其竞争力将大大折扣。）</p>\n<p>在1.0 版本的白皮书中，Libra 协会就承诺用足额储备金来作为 LBR 的价值支撑，2019 年 9 月，Libra 协会宣布向瑞士金融市场监管局 FINMA 申请支付牌照（由于 Libra 协会是注册在瑞士的，因此其经营管理要遵守瑞士法律的监管。瑞士是全球最大的离岸金融中心，瑞士的银行业所管理的资产有一半来自其他国家，因此将 Libra 协会设立在瑞士，也是处于 Libra 全球化资产管理的考虑。），其中也着重强调了数字货币资产的足额储备金支持。</p>\n<p>足额储备金就意味着在发行Libra 数字资产的同时，持有等额或更高额的现金、现金等价物或短期政府债。这对传统的银行不同，银行持有其存款负债总额约 10% 的现金或流动性资产作为储备，其余资产通过贷款或其他非流动资产来体现。（在传统的银行经营中，一国央行往往规定法定存款准备金率和超额存款准备金率来刚性控制银行对自己吸收的存款进行资金储备，这种资金的储备影响了货币乘数，也就影响了派生存款的产生速度与规模，最终影响社会货币总供给。）这种足额的资产背书增强了支付系统的稳定性，加上 Libra 网络透明和可审计的特性，增强了 Libra 网络使用者的信心。（此处笔者有一定的思考，如果 Libra 能够将储备金托管在各国央行，由于央行除直接使用货币政策工具外，不涉及社会企业及个人的信贷业务，因此托管在央行的储备金就不会进入派生存款的产生过程，也就不会对货币总供给量有影响；但如果储备金是托管在商业银行的，那么这些资产必然将产生派生存款，增加了货币总供给。在此处 Libra 将自己与各国的商业银行等存款性金融机构对等，且等同于自己的存款准备金率为 100%。）</p>\n<p>Libra 稳定币会依据市场需要而铸造或销毁，同时，特定的智能合约会将这些单一的稳定币依据固定的权重组合成 LBR。尽管 LBR 的价值不是盯住单一货币的，但当某种货币的价值波动时，LBR 的价格也会随之波动。</p>\n<p>Libra 储备金的结构设计一开始就是想尽可能规避和最小化潜在的风险。为保证 Libra 网络的可偿付性及平稳运行，储备金只能包含高流动性的资产（金融领域的流动性，是指一种资产能够以最快速度足值变现的可能性，一方面变现速度要快，另一方面资产应当以合理的价格出售。因此，资产市场往往分为货币市场和资本市场，货币市场上的金融产品往往期限在一年以内，变现能力强，流动性高；而资本市场主要指中长期债券市场和股票市场，资本市场上交易的资产相对流动性差一些。就风险相对低的投资品债券而言，政府和大型企业发行的短期债券往往具备较高的流动性，但也不一定如此，在次贷危机爆发以后，欧洲诸多国家爆发了主权债务危机，政府发行的债券也出现了违约的情形。），具体而言，储备金应当包括至少 80% 的稳定主权主体发行的短期政府债券，例如标普的 A+ 评级以上的债券以及穆迪 A1 评级以上的债券，这也就意味着这些债券在二级市场上有充足的流动性。储备金剩余的 20% 为现金，这些现金可以投资于低风险的债券型货币市场基金。在考虑到货币风险的前提下（货币种类不同所面临不同的汇率波动风险），储备金应当以何种货币形式存在，这就决定于当前市场上现存的各类 Libra 稳定币的数量配比，这种储备金与流通中稳定币的完全匹配，能够在某种程度上降低利率风险、流动性风险和信用风险。（从前文中我们提及的内容可以了解到，Libra 每发行一单位稳定币，都会有一单位对应的货币进入储备金，因此储备金与稳定币的数量和货币类型配比能够一致起来。由于 Libra 储备金都是由高流动性资产构成，因此流动性风险较低，同时由于债券的高评级，因此面临的违约信用风险也极小，同时短期国债基本匹配无风险利率，而无风险利率的期限结构曲线是相对平滑的，除非出现类似当前疫情期间的主流投资品类均大幅下跌的情况，此时会出现短期利率高于长期利率的异常倒挂现象。笔者在此想起了前一段时间读到的 RAY DALIO 的最新连载博文 Changing World order，中间就提到了二战后期美联储锁定债券市场利差，人为压低短期利率的政策，推荐大家阅读。）</p>\n<p>尽管储备金是高流动性的资产，但Libra 网络仍然会产生不可预计的损失或者在极端经济环境下无法有效变现储备资产，因此除储备金外，Libra 协会还考虑进一步配置资本缓冲，也就是安全垫。在有效的监管框架下，Libra 协会将会配置一个适当头寸的，用于吸收损失的资本缓冲层，来为储备金提供进一步的保护，来应对 Libra 支付系统中所可能出现的信用、市场和操作风险，操作风险包括内部和外部的欺诈、商业舞弊以及系统和管理失误。（从行为风格来看，Libra 的监管路线严格依照当前国际上通行的巴塞尔三协议的风险点来考虑，巴塞尔三协议所考虑风险种类主要涵盖市场风险、信用风险、操作风险和流动性风险。而上文中安全垫或者说资本缓冲的设计，非常类似 ABS、CDO 中的信用分层设计。）</p>\n<p>储备金的管理细节将完全披露给公众，储备金也会定期进行外部审计，审计的结果也会完全披露，以证明所有Libra 网络中发行的代币都是有足额资产储备来支持的。Libra 协会将会在其官网上每日公布当前储备金的资产构成以及市值。</p>\n<p>如果Libra 网络在托管储备金资产的过程中面临负收益，协会将使用诸如网络交易费等收入来源来弥补资产损失；对于储备金获得的正收益，它将被用来覆盖系统运行、成长和运营的成本，保障系统交易费用价格低廉，同时为资本缓冲/安全垫提供资金。</p>\n<p>关于储备金利息的分配方法将会提前设置并由协会监管，Libra 网络中代币的持有者并不会获取储备金的利息收益。</p>\n<p>储备金将会由地理位置比较分散的且资金实力雄厚的银行网络来托管，Libra 协会会提出额外的要求和措施，以保障这些被托管的资产不会被借贷、抵押、或者被临时挪用。（本身银行的资产业务和负债业务是两条线路的，托管资产进入银行本身与存款的性质相近，银行除需向央行缴纳存款准备金外，多余的存款完全可以通过借款行为产生收益并导致派生存款的产生，因此 Libra 协会考虑到了这些细节，但未提出详细的解决办法。）</p>\n<p>Libra 网络本身并不会直接通过某种接口与最终用户交互，而是会选择一些授权的经销商来为用户提供流动性服务，比如通过钱包或者交易所等方式为用户提供 Libra 代币。这些经销商会承诺做市并且不会设定很大的价差，以保障用户能够以合理的成本获得 Libra 网络上的代币。（这种做市可以参考向商业银行结售汇的场景，商业银行 ask 和 bid price 是不一致的，即买卖价格不一致，银行从低买高卖中可以获得价差收益，如果经销商设定较高的买卖价差，终端用户将会在买卖 Libra 代币的过程中支付额外过多的成本，不利于 Libra 网络的普及。）考虑极端情况，如果所有经销商都不再做市，也就意味着用户无法将 Libra 代币转换为法币，Libra 协会会联合第三方管理者或是援助的经销商，在销毁 Libra 代币的同时变现储备金资产，保障用户能够获得法币资产。</p>\n<p>如果Libra 网络确实无法快速足值的将短期政府债券变现为现金资产，Libra 协会还考虑了以下两种应对极端状况的措施：</p>\n<p>一是延长赎回期。通过延长Libra 代币兑换法币的承诺期限，为储备资产的变现赢得时间窗口，而不必大幅折价抛售。</p>\n<p>二是设置提前赎回费。如果想要立即将Libra 代币兑换为法币，则要承担一部分赎回费用。（这实际上就是将资产折价出售的成本转移到 Libra 代币持有者身上。）</p>\n<p>最后的最后，即使协会和Libra 网络都失败了，Libra 代币的持有者依然可以获得资金偿付。其一，短期政府债券到期后的本息现金流可以用来销毁 Libra 代币；其二，如果短期债券的资金回流速度不足以销毁所有代币，短期政府债由于其高流动性的特点，也可以在二级市场上以较小的折扣快速出手。其三，如果上述两条均行不通，在时间足够的情况下，所有的债券都会到期，资金全部会实现回流。</p>\n<p>（二）<strong>建立健壮的监管服从框架来增强Libra 支付系统的安全性</strong></p>\n<p>（未完待续，敬请期待。。。。。）</p>\n","raw":null,"categories":[],"tags":[]}]}